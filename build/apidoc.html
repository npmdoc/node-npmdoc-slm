<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/slm-lang/slm"

    >slm (v1.0.0)</a>
</h1>
<h4>Slim/Jade like templating engine</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm">module slm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm">
            function <span class="apidocSignatureSpan"></span>slm
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template">
            function <span class="apidocSignatureSpan">slm.</span>Template
            <span class="apidocSignatureSpan">(VM, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.__express">
            function <span class="apidocSignatureSpan">slm.</span>__express
            <span class="apidocSignatureSpan">(path, options, fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_merge">
            function <span class="apidocSignatureSpan">slm.</span>attr_merge
            <span class="apidocSignatureSpan">(mergeAttrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_remove">
            function <span class="apidocSignatureSpan">slm.</span>attr_remove
            <span class="apidocSignatureSpan">(removeEmptyAttrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.brackets">
            function <span class="apidocSignatureSpan">slm.</span>brackets
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.code_attributes">
            function <span class="apidocSignatureSpan">slm.</span>code_attributes
            <span class="apidocSignatureSpan">(mergeAttrs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.compile">
            function <span class="apidocSignatureSpan">slm.</span>compile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.control_flow">
            function <span class="apidocSignatureSpan">slm.</span>control_flow
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.controls">
            function <span class="apidocSignatureSpan">slm.</span>controls
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher">
            function <span class="apidocSignatureSpan">slm.</span>dispatcher
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.engine">
            function <span class="apidocSignatureSpan">slm.</span>engine
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.escape">
            function <span class="apidocSignatureSpan">slm.</span>escape
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.expressOpts">
            function <span class="apidocSignatureSpan">slm.</span>expressOpts
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast">
            function <span class="apidocSignatureSpan">slm.</span>fast
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter">
            function <span class="apidocSignatureSpan">slm.</span>filter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator">
            function <span class="apidocSignatureSpan">slm.</span>generator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html">
            function <span class="apidocSignatureSpan">slm.</span>html
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.interpolate">
            function <span class="apidocSignatureSpan">slm.</span>interpolate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.multi_flattener">
            function <span class="apidocSignatureSpan">slm.</span>multi_flattener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser">
            function <span class="apidocSignatureSpan">slm.</span>parser
            <span class="apidocSignatureSpan">(attrDelims)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.render">
            function <span class="apidocSignatureSpan">slm.</span>render
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.static_merger">
            function <span class="apidocSignatureSpan">slm.</span>static_merger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.string">
            function <span class="apidocSignatureSpan">slm.</span>string
            <span class="apidocSignatureSpan">(name, initializer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.VM">
            function <span class="apidocSignatureSpan">slm.</span>template.VM
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm">
            function <span class="apidocSignatureSpan">slm.</span>vm
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm_browser">
            function <span class="apidocSignatureSpan">slm.</span>vm_browser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>Template.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>attr_merge.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>attr_remove.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>brackets.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>code_attributes.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>control_flow.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>controls.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>dispatcher.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>engine.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>escape.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>fast.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>filter.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>generator.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>html.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>interpolate.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>multi_flattener.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>parser.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>slm.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>slm_browser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>static_merger.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>string.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.Embeddeds</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.Embeddeds.CSS.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.Embeddeds.Embedded.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.Embeddeds.InterpolateEngine.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.Embeddeds.Javascript.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.Embeddeds.TextCollector.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>template.VM.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>vm.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.</span>vm_browser.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.Template">module slm.Template</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.Template">
            function <span class="apidocSignatureSpan">slm.</span>Template
            <span class="apidocSignatureSpan">(VM, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.Template.prototype">module slm.Template.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype._defaultFilters">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>_defaultFilters
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.compile">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>compile
            <span class="apidocSignatureSpan">(src, options, vm)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.exec">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>exec
            <span class="apidocSignatureSpan">(src, options, vm)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.exports">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>exports
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.registerEmbedded">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>registerEmbedded
            <span class="apidocSignatureSpan">(name, engine)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.registerEmbeddedFunction">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>registerEmbeddedFunction
            <span class="apidocSignatureSpan">(name, renderer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.render">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>render
            <span class="apidocSignatureSpan">(src, model, options, vm)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.Template.prototype.src">
            function <span class="apidocSignatureSpan">slm.Template.prototype.</span>src
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.attr_merge">module slm.attr_merge</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_merge.attr_merge">
            function <span class="apidocSignatureSpan">slm.</span>attr_merge
            <span class="apidocSignatureSpan">(mergeAttrs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.attr_merge.prototype">module slm.attr_merge.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_merge.prototype._merge">
            function <span class="apidocSignatureSpan">slm.attr_merge.prototype.</span>_merge
            <span class="apidocSignatureSpan">(names, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_merge.prototype.on_html_attrs">
            function <span class="apidocSignatureSpan">slm.attr_merge.prototype.</span>on_html_attrs
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.attr_remove">module slm.attr_remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_remove.attr_remove">
            function <span class="apidocSignatureSpan">slm.</span>attr_remove
            <span class="apidocSignatureSpan">(removeEmptyAttrs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.attr_remove.prototype">module slm.attr_remove.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.attr_remove.prototype.on_html_attr">
            function <span class="apidocSignatureSpan">slm.attr_remove.prototype.</span>on_html_attr
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.brackets">module slm.brackets</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.brackets.brackets">
            function <span class="apidocSignatureSpan">slm.</span>brackets
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.brackets.prototype">module slm.brackets.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.brackets.prototype._expandCallback">
            function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>_expandCallback
            <span class="apidocSignatureSpan">(code, content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.brackets.prototype._expandCode">
            function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>_expandCode
            <span class="apidocSignatureSpan">(code, postCode)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.brackets.prototype.on_slm_control">
            function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>on_slm_control
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.brackets.prototype.on_slm_output">
            function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>on_slm_output
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.code_attributes">module slm.code_attributes</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.code_attributes.code_attributes">
            function <span class="apidocSignatureSpan">slm.</span>code_attributes
            <span class="apidocSignatureSpan">(mergeAttrs)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.code_attributes.prototype">module slm.code_attributes.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.code_attributes.prototype.on_html_attr">
            function <span class="apidocSignatureSpan">slm.code_attributes.prototype.</span>on_html_attr
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.code_attributes.prototype.on_html_attrs">
            function <span class="apidocSignatureSpan">slm.code_attributes.prototype.</span>on_html_attrs
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.code_attributes.prototype.on_slm_attrvalue">
            function <span class="apidocSignatureSpan">slm.code_attributes.prototype.</span>on_slm_attrvalue
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.control_flow">module slm.control_flow</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.control_flow.control_flow">
            function <span class="apidocSignatureSpan">slm.</span>control_flow
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.control_flow.prototype">module slm.control_flow.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.control_flow.prototype.on_block">
            function <span class="apidocSignatureSpan">slm.control_flow.prototype.</span>on_block
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.control_flow.prototype.on_if">
            function <span class="apidocSignatureSpan">slm.control_flow.prototype.</span>on_if
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.control_flow.prototype.on_switch">
            function <span class="apidocSignatureSpan">slm.control_flow.prototype.</span>on_switch
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.controls">module slm.controls</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.controls.controls">
            function <span class="apidocSignatureSpan">slm.</span>controls
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.controls.prototype">module slm.controls.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.controls.prototype.on_slm_control">
            function <span class="apidocSignatureSpan">slm.controls.prototype.</span>on_slm_control
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.controls.prototype.on_slm_output">
            function <span class="apidocSignatureSpan">slm.controls.prototype.</span>on_slm_output
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.controls.prototype.on_slm_text">
            function <span class="apidocSignatureSpan">slm.controls.prototype.</span>on_slm_text
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.dispatcher">module slm.dispatcher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher.dispatcher">
            function <span class="apidocSignatureSpan">slm.</span>dispatcher
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.dispatcher.prototype">module slm.dispatcher.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher.prototype._dispatchedMethods">
            function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>_dispatchedMethods
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher.prototype._dispatcher">
            function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>_dispatcher
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher.prototype._replaceDispatcher">
            function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>_replaceDispatcher
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher.prototype.compile">
            function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>compile
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.dispatcher.prototype.exec">
            function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>exec
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.engine">module slm.engine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.engine.engine">
            function <span class="apidocSignatureSpan">slm.</span>engine
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.engine.prototype">module slm.engine.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.engine.prototype.exec">
            function <span class="apidocSignatureSpan">slm.engine.prototype.</span>exec
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.engine.prototype.use">
            function <span class="apidocSignatureSpan">slm.engine.prototype.</span>use
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.escape">module slm.escape</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.escape.escape">
            function <span class="apidocSignatureSpan">slm.</span>escape
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.escape.prototype">module slm.escape.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.escape.prototype._escapeCode">
            function <span class="apidocSignatureSpan">slm.escape.prototype.</span>_escapeCode
            <span class="apidocSignatureSpan">(v)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.escape.prototype.on_dynamic">
            function <span class="apidocSignatureSpan">slm.escape.prototype.</span>on_dynamic
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.escape.prototype.on_escape">
            function <span class="apidocSignatureSpan">slm.escape.prototype.</span>on_escape
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.escape.prototype.on_static">
            function <span class="apidocSignatureSpan">slm.escape.prototype.</span>on_static
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.fast">module slm.fast</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.fast">
            function <span class="apidocSignatureSpan">slm.</span>fast
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.fast.prototype">module slm.fast.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_attr">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_attr
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_attrs">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_attrs
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_comment">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_comment
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_condcomment">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_condcomment
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_doctype">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_doctype
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_js">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_js
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.fast.prototype.on_html_tag">
            function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_tag
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.filter">module slm.filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.filter">
            function <span class="apidocSignatureSpan">slm.</span>filter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.filter.prototype">module slm.filter.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype._compileEach">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_compileEach
            <span class="apidocSignatureSpan">(exps, startIndex)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype._isEmptyExp">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_isEmptyExp
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype._shiftAndCompile">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_shiftAndCompile
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype._shiftAndCompileMulti">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_shiftAndCompileMulti
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype._uniqueName">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_uniqueName
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype.on_block">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_block
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype.on_capture">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_capture
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype.on_escape">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_escape
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype.on_if">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_if
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype.on_multi">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_multi
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.filter.prototype.on_switch">
            function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_switch
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.generator">module slm.generator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.generator">
            function <span class="apidocSignatureSpan">slm.</span>generator
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.generator.prototype">module slm.generator.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.concat">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>concat
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.exec">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>exec
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.on">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.on_code">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_code
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.on_dynamic">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_dynamic
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.on_multi">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_multi
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.on_newline">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_newline
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.generator.prototype.on_static">
            function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_static
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.html">module slm.html</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.html">
            function <span class="apidocSignatureSpan">slm.</span>html
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.html.prototype">module slm.html.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.prototype._isContainNonEmptyStatic">
            function <span class="apidocSignatureSpan">slm.html.prototype.</span>_isContainNonEmptyStatic
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.prototype.on_html_attr">
            function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_attr
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.prototype.on_html_attrs">
            function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_attrs
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.prototype.on_html_comment">
            function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_comment
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.prototype.on_html_condcomment">
            function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_condcomment
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.html.prototype.on_html_tag">
            function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_tag
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.interpolate">module slm.interpolate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.interpolate.interpolate">
            function <span class="apidocSignatureSpan">slm.</span>interpolate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.interpolate.prototype">module slm.interpolate.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.interpolate.prototype._parseExpression">
            function <span class="apidocSignatureSpan">slm.interpolate.prototype.</span>_parseExpression
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.interpolate.prototype.on_slm_interpolate">
            function <span class="apidocSignatureSpan">slm.interpolate.prototype.</span>on_slm_interpolate
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.multi_flattener">module slm.multi_flattener</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.multi_flattener.multi_flattener">
            function <span class="apidocSignatureSpan">slm.</span>multi_flattener
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.multi_flattener.prototype">module slm.multi_flattener.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.multi_flattener.prototype.on_multi">
            function <span class="apidocSignatureSpan">slm.multi_flattener.prototype.</span>on_multi
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.parser">module slm.parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.parser">
            function <span class="apidocSignatureSpan">slm.</span>parser
            <span class="apidocSignatureSpan">(attrDelims)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.parser.prototype">module slm.parser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._escapeRegExp">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_escapeRegExp
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._expectNextLine">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_expectNextLine
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._getIndent">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_getIndent
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._ifTrueThen">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_ifTrueThen
            <span class="apidocSignatureSpan">(condition, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._matchLineThen">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_matchLineThen
            <span class="apidocSignatureSpan">(regex, next)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._nextLine">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_nextLine
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseAttributes">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseAttributes
            <span class="apidocSignatureSpan">(attributes)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseBrokenLine">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseBrokenLine
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseJSCode">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseJSCode
            <span class="apidocSignatureSpan">(outerDelimeter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseLine">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseLine
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseLineIndicators">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseLineIndicators
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseQuotedAttribute">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseQuotedAttribute
            <span class="apidocSignatureSpan">(quote)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseShortcutAttributes">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseShortcutAttributes
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseTag">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseTag
            <span class="apidocSignatureSpan">(tag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._parseTextBlock">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseTextBlock
            <span class="apidocSignatureSpan">(firstLine, textIndent, inTag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._pushOnTop">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_pushOnTop
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._reset">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_reset
            <span class="apidocSignatureSpan">(lines, stacks)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._sliceLine">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_sliceLine
            <span class="apidocSignatureSpan">(beginSlice)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype._syntaxError">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_syntaxError
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.parser.prototype.exec">
            function <span class="apidocSignatureSpan">slm.parser.prototype.</span>exec
            <span class="apidocSignatureSpan">(str, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.slm">module slm.slm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm.slm">
            function <span class="apidocSignatureSpan">slm.</span>slm
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.slm.prototype">module slm.slm.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm.prototype.on_slm_control">
            function <span class="apidocSignatureSpan">slm.slm.prototype.</span>on_slm_control
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm.prototype.on_slm_output">
            function <span class="apidocSignatureSpan">slm.slm.prototype.</span>on_slm_output
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm.prototype.on_slm_text">
            function <span class="apidocSignatureSpan">slm.slm.prototype.</span>on_slm_text
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.slm_browser">module slm.slm_browser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm_browser.Template">
            function <span class="apidocSignatureSpan">slm.slm_browser.</span>Template
            <span class="apidocSignatureSpan">(VM, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm_browser.compile">
            function <span class="apidocSignatureSpan">slm.slm_browser.</span>compile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.slm_browser.render">
            function <span class="apidocSignatureSpan">slm.slm_browser.</span>render
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.slm_browser.</span>template</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.static_merger">module slm.static_merger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.static_merger.static_merger">
            function <span class="apidocSignatureSpan">slm.</span>static_merger
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.static_merger.prototype">module slm.static_merger.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.static_merger.prototype.on_multi">
            function <span class="apidocSignatureSpan">slm.static_merger.prototype.</span>on_multi
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.string">module slm.string</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.string.string">
            function <span class="apidocSignatureSpan">slm.</span>string
            <span class="apidocSignatureSpan">(name, initializer)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.string.prototype">module slm.string.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.string.prototype.on_capture">
            function <span class="apidocSignatureSpan">slm.string.prototype.</span>on_capture
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.string.prototype.preamble">
            function <span class="apidocSignatureSpan">slm.string.prototype.</span>preamble
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">slm.string.prototype.</span>_buffer</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template">module slm.template</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.VM">
            function <span class="apidocSignatureSpan">slm.template.</span>VM
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.</span>Embeddeds</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.</span>_embedded</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.</span>_engine</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.Embeddeds">module slm.template.Embeddeds</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.CSS">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>CSS
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.Embedded">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>Embedded
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.InterpolateEngine">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>InterpolateEngine
            <span class="apidocSignatureSpan">(renderer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.Javascript">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>Javascript
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.TextCollector">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>TextCollector
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.Embeddeds.CSS.prototype">module slm.template.Embeddeds.CSS.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.CSS.prototype.on_slm_embedded">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.CSS.prototype.</span>on_slm_embedded
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.Embeddeds.CSS.prototype.</span>_textCollector</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.Embeddeds.Embedded.prototype">module slm.template.Embeddeds.Embedded.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.Embedded.prototype.on_slm_embedded">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.Embedded.prototype.</span>on_slm_embedded
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.Embedded.prototype.register">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.Embedded.prototype.</span>register
            <span class="apidocSignatureSpan">(name, filter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.Embeddeds.InterpolateEngine.prototype">module slm.template.Embeddeds.InterpolateEngine.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.InterpolateEngine.prototype.on_slm_embedded">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.InterpolateEngine.prototype.</span>on_slm_embedded
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.Embeddeds.InterpolateEngine.prototype.</span>_textCollector</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.Embeddeds.Javascript.prototype">module slm.template.Embeddeds.Javascript.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.Javascript.prototype.on_slm_embedded">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.Javascript.prototype.</span>on_slm_embedded
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.Embeddeds.Javascript.prototype.</span>_textCollector</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.Embeddeds.TextCollector.prototype">module slm.template.Embeddeds.TextCollector.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.TextCollector.prototype.exec">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.TextCollector.prototype.</span>exec
            <span class="apidocSignatureSpan">(exp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.Embeddeds.TextCollector.prototype.on_slm_interpolate">
            function <span class="apidocSignatureSpan">slm.template.Embeddeds.TextCollector.prototype.</span>on_slm_interpolate
            <span class="apidocSignatureSpan">(exps)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.VM">module slm.template.VM</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.VM.VM">
            function <span class="apidocSignatureSpan">slm.template.</span>VM
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.template.VM.prototype">module slm.template.VM.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.VM.prototype._loadWithoutCache">
            function <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_loadWithoutCache
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.VM.prototype._resolvePath">
            function <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_resolvePath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.template.VM.prototype.runInContext">
            function <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>runInContext
            <span class="apidocSignatureSpan">(code, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_cache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_contents</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_mixins</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>basePath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>m</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>stack</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>template</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>res</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.vm">module slm.vm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.vm">
            function <span class="apidocSignatureSpan">slm.</span>vm
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.escape">
            function <span class="apidocSignatureSpan">slm.vm.</span>escape
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.safe">
            function <span class="apidocSignatureSpan">slm.vm.</span>safe
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm.</span>_cache</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.vm.prototype">module slm.vm.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype._load">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>_load
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype._loadWithCache">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>_loadWithCache
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.cache">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>cache
            <span class="apidocSignatureSpan">(name, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.content">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>content
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.escape">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>escape
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.extend">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>extend
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.flatten">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>flatten
            <span class="apidocSignatureSpan">(arr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.j">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>j
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.mixin">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>mixin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.partial">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>partial
            <span class="apidocSignatureSpan">(path, model, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.pop">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>pop
            <span class="apidocSignatureSpan">(sp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.rebind">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>rebind
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.rejectEmpty">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>rejectEmpty
            <span class="apidocSignatureSpan">(arr)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.reset">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.resetCache">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>resetCache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm.prototype.safe">
            function <span class="apidocSignatureSpan">slm.vm.prototype.</span>safe
            <span class="apidocSignatureSpan">(val)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.vm_browser">module slm.vm_browser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm_browser.vm_browser">
            function <span class="apidocSignatureSpan">slm.</span>vm_browser
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.slm.vm_browser.prototype">module slm.vm_browser.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm_browser.prototype._resolvePath">
            function <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>_resolvePath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.slm.vm_browser.prototype.runInContext">
            function <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>runInContext
            <span class="apidocSignatureSpan">(src, filename)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>_cache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>_contents</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>_mixins</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>basePath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>m</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>stack</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>template</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>res</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm" id="apidoc.module.slm">module slm</a></h1>


    <h2>
        <a href="#apidoc.element.slm.slm" id="apidoc.element.slm.slm">
        function <span class="apidocSignatureSpan"></span>slm
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Slm() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template" id="apidoc.element.slm.Template">
        function <span class="apidocSignatureSpan">slm.</span>Template
        <span class="apidocSignatureSpan">(VM, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Template(VM, options) {
  options = options || {};
  options.mergeAttrs = options.mergeAttrs || { &#x27;class&#x27;: &#x27; &#x27; };
  options.attrDelims = options.attrDelims || { &#x27;(&#x27;: &#x27;)&#x27;, &#x27;[&#x27;:&#x27;]&#x27; };

  this.VM = VM;
  this._engine = new Engine();
  this.Embeddeds = Embeddeds;

  this._embedded = new Embeddeds.Embedded();

  this.registerEmbedded(&#x27;script&#x27;,     new Embeddeds.Javascript());
  this.registerEmbedded(&#x27;javascript&#x27;, new Embeddeds.Javascript({typeAttribute: true}));
  this.registerEmbedded(&#x27;css&#x27;,        new Embeddeds.CSS());

  var filters = this._defaultFilters(options);
  for (var i = 0, il = filters.length; i &#x3c; il; i++) {
    this._engine.use(filters[i]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.__express" id="apidoc.element.slm.__express">
        function <span class="apidocSignatureSpan">slm.</span>__express
        <span class="apidocSignatureSpan">(path, options, fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__express = function (path, options, fn) {
  FS.readFile(path, &#x27;utf-8&#x27;, function (err, src) {
    if (err) {
      return fn(new Error(err));
    }
    var compile = slm.compile;
    var compileOptions = {};
    compileOptions.useCache = options.cache;
    compileOptions.basePath = options.views;
    compileOptions.filename = path;

    if (!slm.__cache) {
      slm.__cache = {};
    }

    try {
      var compiled = slm.__cache[path];

      if (compiled &#x26;&#x26; options.cache) {
        return fn(null, compiled(options, compileOptions));
      }

      compiled = compile(src, compileOptions);
      var rendered = compiled(options, compileOptions);
      slm.__cache[path] = compiled;
      fn(null, rendered);
    } catch (e) {
      fn(e, null);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.attr_merge" id="apidoc.element.slm.attr_merge">
        function <span class="apidocSignatureSpan">slm.</span>attr_merge
        <span class="apidocSignatureSpan">(mergeAttrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AttrMerge(mergeAttrs) {
  this._mergeAttrs = mergeAttrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.attr_remove" id="apidoc.element.slm.attr_remove">
        function <span class="apidocSignatureSpan">slm.</span>attr_remove
        <span class="apidocSignatureSpan">(removeEmptyAttrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AttrRemove(removeEmptyAttrs) {
  this._removeEmptyAttrs = removeEmptyAttrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.brackets" id="apidoc.element.slm.brackets">
        function <span class="apidocSignatureSpan">slm.</span>brackets
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Brackets() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.code_attributes" id="apidoc.element.slm.code_attributes">
        function <span class="apidocSignatureSpan">slm.</span>code_attributes
        <span class="apidocSignatureSpan">(mergeAttrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CodeAttributes(mergeAttrs) {
  //this._attr = null;
  this._mergeAttrs = mergeAttrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.compile" id="apidoc.element.slm.compile">
        function <span class="apidocSignatureSpan">slm.</span>compile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compile = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var code = &#x27;switch(exps[&#x27; + level + &#x27;]) {&#x27;;
var empty = true;

for (var key in this._nodes) {
  empty = false;
  code += &#x27;\ncase \&#x27;&#x27; + key + &#x27;\&#x27; : \n&#x27;;
  code +=  this._nodes[key].<span class="apidocCodeKeywordSpan">compile</span>(level + 1, callMethod) + &#x27;;&#x27;;
}

if (empty) {
  return &#x27;return &#x27; + callMethod;
}

code += &#x27;\ndefault:\nreturn &#x27; + (callMethod || &#x27;exps&#x27;) + &#x27;;}&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.control_flow" id="apidoc.element.slm.control_flow">
        function <span class="apidocSignatureSpan">slm.</span>control_flow
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ControlFlow() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.controls" id="apidoc.element.slm.controls">
        function <span class="apidocSignatureSpan">slm.</span>controls
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Control() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.dispatcher" id="apidoc.element.slm.dispatcher">
        function <span class="apidocSignatureSpan">slm.</span>dispatcher
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dispatcher() { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.engine" id="apidoc.element.slm.engine">
        function <span class="apidocSignatureSpan">slm.</span>engine
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Engine() {
  this._chain = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.escape" id="apidoc.element.slm.escape">
        function <span class="apidocSignatureSpan">slm.</span>escape
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Escape() {
  this._disableEscape = false;
  this._escape = false;
  this._escaper = VM.escape;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._escape = false;
this._escaper = VM.escape;
}

var p = Escape.prototype = new Filter();

p._escapeCode = function(v) {
return &#x27;vm.<span class="apidocCodeKeywordSpan">escape</span>(&#x27; + v.replace(/;+$/, &#x27;&#x27;) + &#x27;)&#x27;;
};

p.on_escape = function(exps) {
var old = this.escape;
this._escape = exps[1] &#x26;&#x26; !this._disableEscape;
try {
  return this.compile(exps[2]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.expressOpts" id="apidoc.element.slm.expressOpts">
        function <span class="apidocSignatureSpan">slm.</span>expressOpts
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">expressOpts = function (options) {
  template = new Template(require(&#x27;./vm_node&#x27;), options);
  slm = template.exports();
  return this.__express;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast" id="apidoc.element.slm.fast">
        function <span class="apidocSignatureSpan">slm.</span>fast
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Fast(format) {
  // See http://www.w3.org/html/wg/drafts/html/master/single-page.html#void-elements
  this._autoclose  = &#x27;area base br col embed hr img input keygen link menuitem meta param source track wbr&#x27;.split(/\s/);
  this._format = format || &#x27;xhtml&#x27;;
  this._attrQuote = &#x27;&#x22;&#x27;;
  this._jsWrapper = [&#x27;\n//&#x3c;![CDATA[\n&#x27;, &#x27;\n//]]&#x3e;\n&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter" id="apidoc.element.slm.filter">
        function <span class="apidocSignatureSpan">slm.</span>filter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Filter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator" id="apidoc.element.slm.generator">
        function <span class="apidocSignatureSpan">slm.</span>generator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Generator() {
  this._buffer = &#x27;_b&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.html" id="apidoc.element.slm.html">
        function <span class="apidocSignatureSpan">slm.</span>html
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Html() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.interpolate" id="apidoc.element.slm.interpolate">
        function <span class="apidocSignatureSpan">slm.</span>interpolate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Interpolate() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.multi_flattener" id="apidoc.element.slm.multi_flattener">
        function <span class="apidocSignatureSpan">slm.</span>multi_flattener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MultiFlattener() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser" id="apidoc.element.slm.parser">
        function <span class="apidocSignatureSpan">slm.</span>parser
        <span class="apidocSignatureSpan">(attrDelims)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(attrDelims) {
  this._attrDelims = attrDelims || { &#x27;(&#x27;: &#x27;)&#x27;, &#x27;[&#x27;: &#x27;]&#x27; };

  var attrDelimsStr = &#x27;&#x27;;

  for (var key in this._attrDelims) {
    attrDelimsStr += key +  this._attrDelims[key];
  }
  attrDelimsStr = this._escapeRegExp(attrDelimsStr)

  this._attrName = &#x27;^\\s*((?!\\${)[^\\0\\&#x22;\&#x27;&#x3e;&#x3c;\\/=\\s#&#x27; + attrDelimsStr+ &#x27;]+)&#x27;;
  this._quotedAttrRe = new RegExp(this._attrName + &#x27;\\s*=(=?)\\s*(&#x22;|\&#x27;)&#x27;);
  this._codeAttrRe = new RegExp(this._attrName + &#x27;\\s*=(=?)\\s*&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.render" id="apidoc.element.slm.render">
        function <span class="apidocSignatureSpan">slm.</span>render
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.static_merger" id="apidoc.element.slm.static_merger">
        function <span class="apidocSignatureSpan">slm.</span>static_merger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StaticMerger() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.string" id="apidoc.element.slm.string">
        function <span class="apidocSignatureSpan">slm.</span>string
        <span class="apidocSignatureSpan">(name, initializer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StringGenerator(name, initializer) {
  this._buffer = name || &#x27;_b&#x27;;
  this._initializer = initializer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.VM" id="apidoc.element.slm.template.VM">
        function <span class="apidocSignatureSpan">slm.</span>template.VM
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VMNode() { VM.call(this); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm" id="apidoc.element.slm.vm">
        function <span class="apidocSignatureSpan">slm.</span>vm
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VM() {
  this.reset();
  this.template = this.basePath = null;
  this._cache = VM._cache;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm_browser" id="apidoc.element.slm.vm_browser">
        function <span class="apidocSignatureSpan">slm.</span>vm_browser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VMBrowser() { VM.call(this); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.Template" id="apidoc.module.slm.Template">module slm.Template</a></h1>


    <h2>
        <a href="#apidoc.element.slm.Template.Template" id="apidoc.element.slm.Template.Template">
        function <span class="apidocSignatureSpan">slm.</span>Template
        <span class="apidocSignatureSpan">(VM, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Template(VM, options) {
  options = options || {};
  options.mergeAttrs = options.mergeAttrs || { &#x27;class&#x27;: &#x27; &#x27; };
  options.attrDelims = options.attrDelims || { &#x27;(&#x27;: &#x27;)&#x27;, &#x27;[&#x27;:&#x27;]&#x27; };

  this.VM = VM;
  this._engine = new Engine();
  this.Embeddeds = Embeddeds;

  this._embedded = new Embeddeds.Embedded();

  this.registerEmbedded(&#x27;script&#x27;,     new Embeddeds.Javascript());
  this.registerEmbedded(&#x27;javascript&#x27;, new Embeddeds.Javascript({typeAttribute: true}));
  this.registerEmbedded(&#x27;css&#x27;,        new Embeddeds.CSS());

  var filters = this._defaultFilters(options);
  for (var i = 0, il = filters.length; i &#x3c; il; i++) {
    this._engine.use(filters[i]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.Template.prototype" id="apidoc.module.slm.Template.prototype">module slm.Template.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.Template.prototype._defaultFilters" id="apidoc.element.slm.Template.prototype._defaultFilters">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>_defaultFilters
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_defaultFilters = function (options) {
  return [
    new Parser(options.attrDelims),
    this._embedded,
    new Interpolate(),
    new Brackets(),
    new Controls(),
    new AttrMerge(options.mergeAttrs),
    new CodeAttributes(options.mergeAttrs),
    new AttrRemove(options.mergeAttrs),
    new FastHtml(options.format),
    new Escape(),
    new ControlFlow(),
    new MultiFlattener(),
    new StaticMerger(),
    new StringGenerator()
  ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.compile" id="apidoc.element.slm.Template.prototype.compile">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>compile
        <span class="apidocSignatureSpan">(src, options, vm)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compile = function (src, options, vm) {
  vm = vm || new this.VM();

  var fn = this.exec(src, options, vm);

  var fnWrap = function(model) {
    var res = fn.call(model, vm);
    vm.reset();
    return res;
  };
  return fnWrap;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var code = &#x27;switch(exps[&#x27; + level + &#x27;]) {&#x27;;
var empty = true;

for (var key in this._nodes) {
  empty = false;
  code += &#x27;\ncase \&#x27;&#x27; + key + &#x27;\&#x27; : \n&#x27;;
  code +=  this._nodes[key].<span class="apidocCodeKeywordSpan">compile</span>(level + 1, callMethod) + &#x27;;&#x27;;
}

if (empty) {
  return &#x27;return &#x27; + callMethod;
}

code += &#x27;\ndefault:\nreturn &#x27; + (callMethod || &#x27;exps&#x27;) + &#x27;;}&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.exec" id="apidoc.element.slm.Template.prototype.exec">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>exec
        <span class="apidocSignatureSpan">(src, options, vm)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (src, options, vm) {
  options = options || {};

  if (options.useCache !== undefined &#x26;&#x26; !options.useCache) {
    vm._load = vm._loadWithoutCache;
  }

  vm.template = this;
  vm.basePath = options.basePath;
  vm.filename = options.filename;
  vm.require  = options.require || module.require;
  vm.rebind();

  return vm.runInContext(this.src(src, options), vm.filename)[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.use = function(filter) {
  this._chain.push(filter);
};

p.exec = function(src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].<span class="apidocCodeKeywordSpan">exec</span>(res, options);
  }

  return res;
};

module.exports = Engine;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.exports" id="apidoc.element.slm.Template.prototype.exports">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>exports
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exports = function () {
  return {
    Template: Template,
    template: this,
    compile:  this.compile.bind(this),
    render:   this.render.bind(this)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...




var Template = require(&#x27;./template&#x27;);
var template = new Template(require(&#x27;./vm_browser&#x27;));

module.exports = template.<span class="apidocCodeKeywordSpan">exports</span>();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.registerEmbedded" id="apidoc.element.slm.Template.prototype.registerEmbedded">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>registerEmbedded
        <span class="apidocSignatureSpan">(name, engine)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerEmbedded = function (name, engine) {
  this._embedded.register(name, engine);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.registerEmbeddedFunction" id="apidoc.element.slm.Template.prototype.registerEmbeddedFunction">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>registerEmbeddedFunction
        <span class="apidocSignatureSpan">(name, renderer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerEmbeddedFunction = function (name, renderer) {
  var engine = new this.Embeddeds.InterpolateEngine(renderer);
  this.registerEmbedded(name, engine);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.render" id="apidoc.element.slm.Template.prototype.render">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>render
        <span class="apidocSignatureSpan">(src, model, options, vm)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (src, model, options, vm) {
  vm = vm || new this.VM();
  return this.compile(src, options, vm)(model, vm);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.Template.prototype.src" id="apidoc.element.slm.Template.prototype.src">
        function <span class="apidocSignatureSpan">slm.Template.prototype.</span>src
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">src = function (src, options) {
  return [
    &#x27;[function(vm) {&#x27;,
    &#x27;vm.m = this;&#x27;,
    &#x27;var sp = vm.stack.length, require = vm.require, content = vm._content, extend = vm._extend, partial = vm._partial, mixin =
vm._mixin, j = vm.j;&#x27;,
    this._engine.exec(src, options),
    &#x27;vm.res=_b;return vm.pop(sp);}]&#x27;
  ].join(&#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.attr_merge" id="apidoc.module.slm.attr_merge">module slm.attr_merge</a></h1>


    <h2>
        <a href="#apidoc.element.slm.attr_merge.attr_merge" id="apidoc.element.slm.attr_merge.attr_merge">
        function <span class="apidocSignatureSpan">slm.</span>attr_merge
        <span class="apidocSignatureSpan">(mergeAttrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AttrMerge(mergeAttrs) {
  this._mergeAttrs = mergeAttrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.attr_merge.prototype" id="apidoc.module.slm.attr_merge.prototype">module slm.attr_merge.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.attr_merge.prototype._merge" id="apidoc.element.slm.attr_merge.prototype._merge">
        function <span class="apidocSignatureSpan">slm.attr_merge.prototype.</span>_merge
        <span class="apidocSignatureSpan">(names, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_merge = function (names, values) {
  var attrs = [];
  for (var i = 0, il = names.length; i &#x3c; il; i++) {
    var name = names[i];
    var value = values[name], delimiter = this._mergeAttrs[name];
    if (delimiter &#x26;&#x26; value.length &#x3e; 1) {
      var all = false, exp = [&#x27;multi&#x27;];
      for (var k = 0, kl = value.length; k &#x3c; kl; k++) {
        var kv = value[k];
        all = this._isContainNonEmptyStatic(kv);
        if (!all) {
          break;
        }
      }
      if (all) {
        for (var j = 0, jl = value.length; j &#x3c; jl; j++) {
          var jv = value[j];
          if (j) {
            exp.push([&#x27;static&#x27;, delimiter]);
          }
          exp.push(jv);
        }
        attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, exp];
      } else {
        var captures = this._uniqueName();
        exp.push([&#x27;code&#x27;, &#x27;var &#x27; + captures + &#x27;=[];&#x27;]);
        for (var a = 0, al = value.length; a &#x3c; al; a++) {
          exp.push([&#x27;capture&#x27;, captures + &#x27;[&#x27; + a + &#x27;]&#x27;, captures + &#x27;[&#x27; + a + &#x27;]&#x27; + &#x27;=\&#x27;\&#x27;;&#x27;, value[a]]);
        }
        exp.push([&#x27;dynamic&#x27;, &#x27;vm.rejectEmpty(&#x27; + captures + &#x27;).join(&#x22;&#x27; + delimiter + &#x27;&#x22;)&#x27;]);
        attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, exp];
      }
    } else {
      attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, value[0]];
    }
  }

  return [&#x27;html&#x27;, &#x27;attrs&#x27;].concat(attrs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    values[name] = [val];
    names.push(name);
  }
}

names.sort();

return this.<span class="apidocCodeKeywordSpan">_merge</span>(names, values);
};

p._merge = function(names, values) {
var attrs = [];
for (var i = 0, il = names.length; i &#x3c; il; i++) {
  var name = names[i];
  var value = values[name], delimiter = this._mergeAttrs[name];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.attr_merge.prototype.on_html_attrs" id="apidoc.element.slm.attr_merge.prototype.on_html_attrs">
        function <span class="apidocSignatureSpan">slm.attr_merge.prototype.</span>on_html_attrs
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attrs = function (exps) {
  var names = [], values = {};
  for (var i = 2, l = exps.length; i &#x3c; l; i++) {
    var attr = exps[i];
    var name = attr[2].toString(), val = attr[3];
    if (values[name]) {
      if (!this._mergeAttrs[name]) {
        throw new Error(&#x27;Multiple &#x27; + name + &#x27; attributes specified&#x27;);
      }

      values[name].push(val);
    } else {
      values[name] = [val];
      names.push(name);
    }
  }

  names.sort();

  return this._merge(names, values);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.attr_remove" id="apidoc.module.slm.attr_remove">module slm.attr_remove</a></h1>


    <h2>
        <a href="#apidoc.element.slm.attr_remove.attr_remove" id="apidoc.element.slm.attr_remove.attr_remove">
        function <span class="apidocSignatureSpan">slm.</span>attr_remove
        <span class="apidocSignatureSpan">(removeEmptyAttrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AttrRemove(removeEmptyAttrs) {
  this._removeEmptyAttrs = removeEmptyAttrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.attr_remove.prototype" id="apidoc.module.slm.attr_remove.prototype">module slm.attr_remove.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.attr_remove.prototype.on_html_attr" id="apidoc.element.slm.attr_remove.prototype.on_html_attr">
        function <span class="apidocSignatureSpan">slm.attr_remove.prototype.</span>on_html_attr
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attr = function (exps) {
  var name = exps[2], value = exps[3];
  if (this._removeEmptyAttrs[name.toString()] === undefined) {
    return Slm.prototype.on_html_attr.call(this, exps);
  }

  if (this._isContainNonEmptyStatic(value)) {
    return [&#x27;html&#x27;, &#x27;attr&#x27;, name, value];
  }

  var tmp = this._uniqueName();
  return [
    &#x27;multi&#x27;,
      [&#x27;capture&#x27;, tmp, &#x27;var &#x27; + tmp + &#x27;=\&#x27;\&#x27;;&#x27;, this.compile(value)],
      [&#x27;if&#x27;, tmp + &#x27;.length&#x27;,
        [&#x27;html&#x27;, &#x27;attr&#x27;, name, [&#x27;dynamic&#x27;, tmp]]
      ]
  ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.brackets" id="apidoc.module.slm.brackets">module slm.brackets</a></h1>


    <h2>
        <a href="#apidoc.element.slm.brackets.brackets" id="apidoc.element.slm.brackets.brackets">
        function <span class="apidocSignatureSpan">slm.</span>brackets
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Brackets() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.brackets.prototype" id="apidoc.module.slm.brackets.prototype">module slm.brackets.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.brackets.prototype._expandCallback" id="apidoc.element.slm.brackets.prototype._expandCallback">
        function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>_expandCallback
        <span class="apidocSignatureSpan">(code, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_expandCallback = function (code, content) {
  if (blockRe.test(code) || this._isEmptyExp(content)) {
    return code;
  }

  var postCode = &#x27;}&#x27;;

  if (!ifRe.test(code)) {
    var parts = this._expandCode(code, postCode);
    code = parts[0];
    postCode = parts[1];
  }
  code += &#x27;{&#x27;;
  content.push([&#x27;code&#x27;, postCode]);
  return code;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var code = exps[2], content = exps[3], m;

m = wrapCondRe.exec(code);
if (m) {
  code = code.replace(m[2], &#x27;(&#x27; + m[2] + &#x27;)&#x27;);
}

code = this.<span class="apidocCodeKeywordSpan">_expandCallback</span>(code, content);
return [&#x27;slm&#x27;, &#x27;control&#x27;, code, this.compile(content)];
};

p.on_slm_output = function(exps) {
var code = exps[3], content = exps[4];
code = this._expandCallback(code, content);
return [&#x27;slm&#x27;, &#x27;output&#x27;, exps[2], code, this.compile(content)];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.brackets.prototype._expandCode" id="apidoc.element.slm.brackets.prototype._expandCode">
        function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>_expandCode
        <span class="apidocSignatureSpan">(code, postCode)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_expandCode = function (code, postCode) {
    var index, m = callbackRe.exec(code);
    if (m) {
      index = m.index + m[1].length;
      postCode += code.slice(index);
      code = code.slice(0, index);
    } else if ((index = code.lastIndexOf(&#x27;)&#x27;)) !== -1) {
      var firstIndex = code.indexOf(&#x27;(&#x27;);
      if (firstIndex === -1) {
        throw new Error(&#x27;Missing open brace &#x22;(&#x22; in `&#x27; + code + &#x27;`&#x27;);
      }
      var args = code.slice(firstIndex + 1, index);
      postCode += code.slice(index);
      code = code.slice(0, index);
      if (!/^\s*$/.test(args)) {
         code += &#x27;,&#x27;;
      }
      code += &#x27;function()&#x27;;
    }

    return [code, postCode];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (blockRe.test(code) || this._isEmptyExp(content)) {
    return code;
  }

  var postCode = &#x27;}&#x27;;

  if (!ifRe.test(code)) {
    var parts = this.<span class="apidocCodeKeywordSpan">_expandCode</span>(code, postCode);
    code = parts[0];
    postCode = parts[1];
  }
  code += &#x27;{&#x27;;
  content.push([&#x27;code&#x27;, postCode]);
  return code;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.brackets.prototype.on_slm_control" id="apidoc.element.slm.brackets.prototype.on_slm_control">
        function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>on_slm_control
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_control = function (exps) {
  var code = exps[2], content = exps[3], m;

  m = wrapCondRe.exec(code);
  if (m) {
    code = code.replace(m[2], &#x27;(&#x27; + m[2] + &#x27;)&#x27;);
  }

  code = this._expandCallback(code, content);
  return [&#x27;slm&#x27;, &#x27;control&#x27;, code, this.compile(content)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.brackets.prototype.on_slm_output" id="apidoc.element.slm.brackets.prototype.on_slm_output">
        function <span class="apidocSignatureSpan">slm.brackets.prototype.</span>on_slm_output
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_output = function (exps) {
  var code = exps[3], content = exps[4];
  code = this._expandCallback(code, content);
  return [&#x27;slm&#x27;, &#x27;output&#x27;, exps[2], code, this.compile(content)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.code_attributes" id="apidoc.module.slm.code_attributes">module slm.code_attributes</a></h1>


    <h2>
        <a href="#apidoc.element.slm.code_attributes.code_attributes" id="apidoc.element.slm.code_attributes.code_attributes">
        function <span class="apidocSignatureSpan">slm.</span>code_attributes
        <span class="apidocSignatureSpan">(mergeAttrs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CodeAttributes(mergeAttrs) {
  //this._attr = null;
  this._mergeAttrs = mergeAttrs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.code_attributes.prototype" id="apidoc.module.slm.code_attributes.prototype">module slm.code_attributes.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.code_attributes.prototype.on_html_attr" id="apidoc.element.slm.code_attributes.prototype.on_html_attr">
        function <span class="apidocSignatureSpan">slm.code_attributes.prototype.</span>on_html_attr
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attr = function (exps) {
  var name = exps[2], value = exps[3];
  if (value[0] === &#x27;slm&#x27; &#x26;&#x26; value[1] === &#x27;attrvalue&#x27; &#x26;&#x26; !this._mergeAttrs[name]) {
    // We handle the attribute as a boolean attribute
    var escape = value[2], code = value[3];
    switch (code) {
    case &#x27;true&#x27;:
      return [&#x27;html&#x27;, &#x27;attr&#x27;, name, [&#x27;multi&#x27;]];
    case &#x27;false&#x27;:
    case &#x27;null&#x27;:
    case &#x27;undefined&#x27;:
      return [&#x27;multi&#x27;];
    default:
      var tmp = this._uniqueName();
      return [&#x27;multi&#x27;,
       [&#x27;code&#x27;, &#x27;var &#x27; + tmp + &#x27;=&#x27; + code],
       [&#x27;switch&#x27;, tmp,
        [&#x27;true&#x27;, [&#x27;multi&#x27;,
          [&#x27;html&#x27;, &#x27;attr&#x27;, name, [&#x27;multi&#x27;]],
          [&#x27;code&#x27;, &#x27;break&#x27;]]],
        [&#x27;false&#x27;, [&#x27;multi&#x27;]],
        [&#x27;undefined&#x27;, [&#x27;multi&#x27;]],
        [&#x27;null&#x27;, [&#x27;code&#x27;, &#x27;break&#x27;]],
        [&#x27;default&#x27;, [&#x27;html&#x27;, &#x27;attr&#x27;, name, [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, tmp]]]]]];
    }
  } else {
    // Attribute with merging
    this._attr = name;
    return Slm.prototype.on_html_attr.call(this, exps);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.code_attributes.prototype.on_html_attrs" id="apidoc.element.slm.code_attributes.prototype.on_html_attrs">
        function <span class="apidocSignatureSpan">slm.code_attributes.prototype.</span>on_html_attrs
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attrs = function (exps) {
  var res = [&#x27;multi&#x27;];

  for (var i = 2, l = exps.length; i &#x3c; l; i++) {
    res.push(this.compile(exps[i]));
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.code_attributes.prototype.on_slm_attrvalue" id="apidoc.element.slm.code_attributes.prototype.on_slm_attrvalue">
        function <span class="apidocSignatureSpan">slm.code_attributes.prototype.</span>on_slm_attrvalue
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_attrvalue = function (exps) {
  var escape = exps[2], code = exps[3];
  // We perform attribute merging on Array values
  var delimiter = this._mergeAttrs[this._attr];
  if (delimiter) {
    var tmp = this._uniqueName();
    return [&#x27;multi&#x27;,
     [&#x27;code&#x27;, &#x27;var &#x27; + tmp + &#x27;=&#x27; + code + &#x27;;&#x27;],
     [&#x27;if&#x27;, tmp + &#x27; instanceof Array&#x27;,
      [&#x27;multi&#x27;,
        [&#x27;code&#x27;,  tmp + &#x27;=vm.rejectEmpty(vm.flatten(&#x27; + tmp + &#x27;));&#x27;],
       [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, tmp + &#x27;.join(&#x22;&#x27; + delimiter + &#x27;&#x22;)&#x27;]]],
      [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, tmp]]]];
  }
  return [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, code]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.control_flow" id="apidoc.module.slm.control_flow">module slm.control_flow</a></h1>


    <h2>
        <a href="#apidoc.element.slm.control_flow.control_flow" id="apidoc.element.slm.control_flow.control_flow">
        function <span class="apidocSignatureSpan">slm.</span>control_flow
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ControlFlow() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.control_flow.prototype" id="apidoc.module.slm.control_flow.prototype">module slm.control_flow.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.control_flow.prototype.on_block" id="apidoc.element.slm.control_flow.prototype.on_block">
        function <span class="apidocSignatureSpan">slm.control_flow.prototype.</span>on_block
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_block = function (exps) {
  var code = exps[1], exp = exps[2];
  return [&#x27;multi&#x27;, [&#x27;code&#x27;, code], this.compile(exp)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.control_flow.prototype.on_if" id="apidoc.element.slm.control_flow.prototype.on_if">
        function <span class="apidocSignatureSpan">slm.control_flow.prototype.</span>on_if
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_if = function (exps) {
  var condition = exps[1], yes = exps[2], no = exps[3];

  var result = [&#x27;multi&#x27;, [&#x27;code&#x27;, &#x27;if(&#x27; + condition + &#x27;){&#x27;], this.compile(yes)];
  if (no) {
    result.push([&#x27;code&#x27;, &#x27;}else{&#x27;]);
    result.push(this.compile(no));
  }
  result.push([&#x27;code&#x27;, &#x27;}&#x27;]);
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.control_flow.prototype.on_switch" id="apidoc.element.slm.control_flow.prototype.on_switch">
        function <span class="apidocSignatureSpan">slm.control_flow.prototype.</span>on_switch
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_switch = function (exps) {
  var arg = exps[1], res = [&#x27;multi&#x27;, [&#x27;code&#x27;, &#x27;switch(&#x27; + arg + &#x27;){&#x27;]];

  for (var i = 2, l = exps.length; i &#x3c; l; i++) {
    var exp = exps[i];
    res.push([&#x27;code&#x27;, exp[0] === &#x27;default&#x27; ? &#x27;default:&#x27; : &#x27;case &#x27; + exp[0] + &#x27;:&#x27;]);
    res.push(this.compile(exp[1]));
  }

  res.push([&#x27;code&#x27;, &#x27;}&#x27;]);
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.controls" id="apidoc.module.slm.controls">module slm.controls</a></h1>


    <h2>
        <a href="#apidoc.element.slm.controls.controls" id="apidoc.element.slm.controls.controls">
        function <span class="apidocSignatureSpan">slm.</span>controls
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Control() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.controls.prototype" id="apidoc.module.slm.controls.prototype">module slm.controls.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.controls.prototype.on_slm_control" id="apidoc.element.slm.controls.prototype.on_slm_control">
        function <span class="apidocSignatureSpan">slm.controls.prototype.</span>on_slm_control
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_control = function (exps) {
  return [&#x27;multi&#x27;, [&#x27;code&#x27;, exps[2]], this.compile(exps[3])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.controls.prototype.on_slm_output" id="apidoc.element.slm.controls.prototype.on_slm_output">
        function <span class="apidocSignatureSpan">slm.controls.prototype.</span>on_slm_output
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_output = function (exps) {
  var escape = exps[2], code = exps[3], content = exps[4];
  if (ifRe.test(code)) {
    var tmp = this._uniqueName(), tmp2 = this._uniqueName();
    content = this.compile(content);
    content.splice(content.length - 1, 0, [&#x27;code&#x27;, &#x27;return vm.safe(&#x27; + tmp2 + &#x27;);&#x27;]);
    return [&#x27;multi&#x27;,
      // Capture the result of the code in a variable. We can&#x27;t do
      // `[dynamic, code]` because it&#x27;s probably not a complete
      // expression (which is a requirement for Temple).
      [&#x27;block&#x27;, &#x27;var &#x27; + tmp + &#x27;=&#x27; + code,

        // Capture the content of a block in a separate buffer. This means
        // that `yield` will not output the content to the current buffer,
        // but rather return the output.
        //
        // The capturing can be disabled with the option :disable_capture.
        // Output code in the block writes directly to the output buffer then.
        // Rails handles this by replacing the output buffer for helpers.
        // options[:disable_capture] ? compile(content) : [:capture, unique_name, compile(content)]],
        [&#x27;capture&#x27;, tmp2, &#x27;var &#x27; + tmp2 + &#x27;=\&#x27;\&#x27;;&#x27;, content]],

       // Output the content.
      [&#x27;escape&#x27;, &#x27;escape&#x27;, [&#x27;dynamic&#x27;, tmp]]
    ];
  }
  return [&#x27;multi&#x27;, [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, code]], content];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.controls.prototype.on_slm_text" id="apidoc.element.slm.controls.prototype.on_slm_text">
        function <span class="apidocSignatureSpan">slm.controls.prototype.</span>on_slm_text
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_text = function (exps) {
  return this.compile(exps[2]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.dispatcher" id="apidoc.module.slm.dispatcher">module slm.dispatcher</a></h1>


    <h2>
        <a href="#apidoc.element.slm.dispatcher.dispatcher" id="apidoc.element.slm.dispatcher.dispatcher">
        function <span class="apidocSignatureSpan">slm.</span>dispatcher
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dispatcher() { }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.dispatcher.prototype" id="apidoc.module.slm.dispatcher.prototype">module slm.dispatcher.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.dispatcher.prototype._dispatchedMethods" id="apidoc.element.slm.dispatcher.prototype._dispatchedMethods">
        function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>_dispatchedMethods
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_dispatchedMethods = function () {
  var res = [];

  for (var key in this) {
    if (methodRE.test(key)) {
      res.push(key);
    }
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
}
return res;
};

DispatcherProto._replaceDispatcher = function(exp) {
var tree = new Node();
var dispatchedMethods = this.<span class="apidocCodeKeywordSpan">_dispatchedMethods</span>();
for (var i = 0, il = dispatchedMethods.length; i &#x3c; il; i++) {
  var method = dispatchedMethods[i], node = tree;
  var types = method.split(methodSplitRE);
  for (var j = 1, jl = types.length; j &#x3c; jl; j++) {
    var type = types[j];
    var n = node._nodes[type];
    node = node._nodes[type] = n || new Node();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.dispatcher.prototype._dispatcher" id="apidoc.element.slm.dispatcher.prototype._dispatcher">
        function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>_dispatcher
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_dispatcher = function (exp) {
  return this._replaceDispatcher(exp);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var DispatcherProto = Dispatcher.prototype;

DispatcherProto.exec = function(exp) {
  return this.compile(exp);
};

DispatcherProto.compile = function(exp) {
  return this.<span class="apidocCodeKeywordSpan">_dispatcher</span>(exp);
};

DispatcherProto._dispatcher = function(exp) {
  return this._replaceDispatcher(exp);
};

DispatcherProto._dispatchedMethods = function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.dispatcher.prototype._replaceDispatcher" id="apidoc.element.slm.dispatcher.prototype._replaceDispatcher">
        function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>_replaceDispatcher
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_replaceDispatcher = function (exp) {
  var tree = new Node();
  var dispatchedMethods = this._dispatchedMethods();
  for (var i = 0, il = dispatchedMethods.length; i &#x3c; il; i++) {
    var method = dispatchedMethods[i], node = tree;
    var types = method.split(methodSplitRE);
    for (var j = 1, jl = types.length; j &#x3c; jl; j++) {
      var type = types[j];
      var n = node._nodes[type];
      node = node._nodes[type] = n || new Node();
    }
    node._method = method;
  }
  this._dispatcher = new Function(&#x27;exps&#x27;, tree.compile(0));
  return this._dispatcher(exp);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

DispatcherProto.compile = function(exp) {
return this._dispatcher(exp);
};

DispatcherProto._dispatcher = function(exp) {
return this.<span class="apidocCodeKeywordSpan">_replaceDispatcher</span>(exp);
};

DispatcherProto._dispatchedMethods = function() {
var res = [];

for (var key in this) {
  if (methodRE.test(key)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.dispatcher.prototype.compile" id="apidoc.element.slm.dispatcher.prototype.compile">
        function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>compile
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compile = function (exp) {
  return this._dispatcher(exp);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var code = &#x27;switch(exps[&#x27; + level + &#x27;]) {&#x27;;
var empty = true;

for (var key in this._nodes) {
  empty = false;
  code += &#x27;\ncase \&#x27;&#x27; + key + &#x27;\&#x27; : \n&#x27;;
  code +=  this._nodes[key].<span class="apidocCodeKeywordSpan">compile</span>(level + 1, callMethod) + &#x27;;&#x27;;
}

if (empty) {
  return &#x27;return &#x27; + callMethod;
}

code += &#x27;\ndefault:\nreturn &#x27; + (callMethod || &#x27;exps&#x27;) + &#x27;;}&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.dispatcher.prototype.exec" id="apidoc.element.slm.dispatcher.prototype.exec">
        function <span class="apidocSignatureSpan">slm.dispatcher.prototype.</span>exec
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (exp) {
  return this.compile(exp);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.use = function(filter) {
  this._chain.push(filter);
};

p.exec = function(src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].<span class="apidocCodeKeywordSpan">exec</span>(res, options);
  }

  return res;
};

module.exports = Engine;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.engine" id="apidoc.module.slm.engine">module slm.engine</a></h1>


    <h2>
        <a href="#apidoc.element.slm.engine.engine" id="apidoc.element.slm.engine.engine">
        function <span class="apidocSignatureSpan">slm.</span>engine
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Engine() {
  this._chain = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.engine.prototype" id="apidoc.module.slm.engine.prototype">module slm.engine.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.engine.prototype.exec" id="apidoc.element.slm.engine.prototype.exec">
        function <span class="apidocSignatureSpan">slm.engine.prototype.</span>exec
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].exec(res, options);
  }

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.use = function(filter) {
  this._chain.push(filter);
};

p.exec = function(src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].<span class="apidocCodeKeywordSpan">exec</span>(res, options);
  }

  return res;
};

module.exports = Engine;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.engine.prototype.use" id="apidoc.element.slm.engine.prototype.use">
        function <span class="apidocSignatureSpan">slm.engine.prototype.</span>use
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">use = function (filter) {
  this._chain.push(filter);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.escape" id="apidoc.module.slm.escape">module slm.escape</a></h1>


    <h2>
        <a href="#apidoc.element.slm.escape.escape" id="apidoc.element.slm.escape.escape">
        function <span class="apidocSignatureSpan">slm.</span>escape
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Escape() {
  this._disableEscape = false;
  this._escape = false;
  this._escaper = VM.escape;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._escape = false;
this._escaper = VM.escape;
}

var p = Escape.prototype = new Filter();

p._escapeCode = function(v) {
return &#x27;vm.<span class="apidocCodeKeywordSpan">escape</span>(&#x27; + v.replace(/;+$/, &#x27;&#x27;) + &#x27;)&#x27;;
};

p.on_escape = function(exps) {
var old = this.escape;
this._escape = exps[1] &#x26;&#x26; !this._disableEscape;
try {
  return this.compile(exps[2]);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.escape.prototype" id="apidoc.module.slm.escape.prototype">module slm.escape.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.escape.prototype._escapeCode" id="apidoc.element.slm.escape.prototype._escapeCode">
        function <span class="apidocSignatureSpan">slm.escape.prototype.</span>_escapeCode
        <span class="apidocSignatureSpan">(v)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_escapeCode = function (v) {
  return &#x27;vm.escape(&#x27; + v.replace(/;+$/, &#x27;&#x27;) + &#x27;)&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

p.on_static = function(exps) {
  return [&#x27;static&#x27;, this._escape ? this._escaper(exps[1]) : exps[1]];
};

p.on_dynamic = function(exps) {
  return [&#x27;dynamic&#x27;, this._escape ? this.<span class="apidocCodeKeywordSpan">_escapeCode</span>(exps[1]) : exps[1]];
};

module.exports = Escape;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.escape.prototype.on_dynamic" id="apidoc.element.slm.escape.prototype.on_dynamic">
        function <span class="apidocSignatureSpan">slm.escape.prototype.</span>on_dynamic
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_dynamic = function (exps) {
  return [&#x27;dynamic&#x27;, this._escape ? this._escapeCode(exps[1]) : exps[1]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.escape.prototype.on_escape" id="apidoc.element.slm.escape.prototype.on_escape">
        function <span class="apidocSignatureSpan">slm.escape.prototype.</span>on_escape
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_escape = function (exps) {
  var old = this.escape;
  this._escape = exps[1] &#x26;&#x26; !this._disableEscape;
  try {
    return this.compile(exps[2]);
  } finally {
    this._escape = old;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.escape.prototype.on_static" id="apidoc.element.slm.escape.prototype.on_static">
        function <span class="apidocSignatureSpan">slm.escape.prototype.</span>on_static
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_static = function (exps) {
  return [&#x27;static&#x27;, this._escape ? this._escaper(exps[1]) : exps[1]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.fast" id="apidoc.module.slm.fast">module slm.fast</a></h1>


    <h2>
        <a href="#apidoc.element.slm.fast.fast" id="apidoc.element.slm.fast.fast">
        function <span class="apidocSignatureSpan">slm.</span>fast
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Fast(format) {
  // See http://www.w3.org/html/wg/drafts/html/master/single-page.html#void-elements
  this._autoclose  = &#x27;area base br col embed hr img input keygen link menuitem meta param source track wbr&#x27;.split(/\s/);
  this._format = format || &#x27;xhtml&#x27;;
  this._attrQuote = &#x27;&#x22;&#x27;;
  this._jsWrapper = [&#x27;\n//&#x3c;![CDATA[\n&#x27;, &#x27;\n//]]&#x3e;\n&#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.fast.prototype" id="apidoc.module.slm.fast.prototype">module slm.fast.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_attr" id="apidoc.element.slm.fast.prototype.on_html_attr">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_attr
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attr = function (exps) {
  var name = exps[2], value = exps[3];

  if (this._format === &#x27;html&#x27; &#x26;&#x26; this._isEmptyExp(value)) {
    return [&#x27;static&#x27;, &#x27; &#x27; + name];
  }
  return [&#x27;multi&#x27;,
    [&#x27;static&#x27;, &#x27; &#x27; + name + &#x27;=&#x27; + this._attrQuote],
    this.compile(value),
    [&#x27;static&#x27;, this._attrQuote]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_attrs" id="apidoc.element.slm.fast.prototype.on_html_attrs">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_attrs
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attrs = function (exps) {
  var res = [&#x27;multi&#x27;];

  for (var i = 2, l = exps.length; i &#x3c; l; i++) {
    res.push(this.compile(exps[i]));
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_comment" id="apidoc.element.slm.fast.prototype.on_html_comment">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_comment
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_comment = function (exps) {
  return [&#x27;multi&#x27;, [&#x27;static&#x27;, &#x27;&#x3c;!--&#x27;], this.compile(exps[2]), [&#x27;static&#x27;, &#x27;--&#x3e;&#x27;]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

p.on_html_comment = function(exps) {
return [&#x27;multi&#x27;, [&#x27;static&#x27;, &#x27;&#x3c;!--&#x27;], this.compile(exps[2]), [&#x27;static&#x27;, &#x27;--&#x3e
;&#x27;]];
};

p.on_html_condcomment = function(exps) {
return this.<span class="apidocCodeKeywordSpan">on_html_comment</span>([&#x27;html&#x27;, &#x27;comment&#x27;, [
  &#x27;multi&#x27;,
    [&#x27;static&#x27;, &#x27;[&#x27; + exps[2] + &#x27;]&#x3e;&#x27;], exps[3], [&#x27;static&#x27;, &#x27;&#x3c;![endif]&#x27
;]]]);
};

p.on_html_tag = function(exps) {
var name = exps[2].toString(), attrs = exps[3], content = exps[4];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_condcomment" id="apidoc.element.slm.fast.prototype.on_html_condcomment">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_condcomment
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_condcomment = function (exps) {
  return this.on_html_comment([&#x27;html&#x27;, &#x27;comment&#x27;, [
    &#x27;multi&#x27;,
      [&#x27;static&#x27;, &#x27;[&#x27; + exps[2] + &#x27;]&#x3e;&#x27;], exps[3], [&#x27;static&#x27;, &#x27;&#x3c;![endif]&#x27;]]]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_doctype" id="apidoc.element.slm.fast.prototype.on_html_doctype">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_doctype
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_doctype = function (exps) {
  var type = exps[2];

  var html = &#x27;&#x3c;!DOCTYPE html&#x3e;&#x27;;

  var DOCTYPES = {
    xml: {
      &#x27;1.1&#x27;          : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD XHTML 1.1//EN&#x22; &#x22;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&#x22;&#x3e;&#x27;,
      &#x27;5&#x27;            : html,
      &#x27;html&#x27;         : html,
      &#x27;basic&#x27;        : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD XHTML Basic 1.1//EN&#x22; &#x22;http://www.w3.org/TR/xhtml-basic/xhtml-basic11.
dtd&#x22;&#x3e;&#x27;,
      &#x27;frameset&#x27;     : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD XHTML 1.0 Frameset//EN&#x22; &#x22;http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset
.dtd&#x22;&#x3e;&#x27;,
      &#x27;strict&#x27;       : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD XHTML 1.0 Strict//EN&#x22; &#x22;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.
dtd&#x22;&#x3e;&#x27;,
      &#x27;svg&#x27;          : &#x27;&#x3c;!DOCTYPE svg PUBLIC &#x22;-//W3C//DTD SVG 1.1//EN&#x22; &#x22;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&#x22;&#x3e;&#x27;,
      &#x27;transitional&#x27; : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD XHTML 1.0 Transitional//EN&#x22; &#x22;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional
.dtd&#x22;&#x3e;&#x27;
    },
    html: {
      &#x27;5&#x27;            : html,
      &#x27;html&#x27;         : html,
      &#x27;frameset&#x27;     : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD HTML 4.01 Frameset//EN&#x22; &#x22;http://www.w3.org/TR/html4/frameset.dtd&#x22;&#x3e;&#x27;,
      &#x27;strict&#x27;       : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD HTML 4.01//EN&#x22; &#x22;http://www.w3.org/TR/html4/strict.dtd&#x22;&#x3e;&#x27;,
      &#x27;transitional&#x27; : &#x27;&#x3c;!DOCTYPE html PUBLIC &#x22;-//W3C//DTD HTML 4.01 Transitional//EN&#x22; &#x22;http://www.w3.org/TR/html4/loose.dtd&#x22;&#x3e;&#x27;
    }
  };

  DOCTYPES.xhtml = DOCTYPES.xml;

  type = type.toString().toLowerCase();
  var m, str;

  m = /^xml(\s+(.+))?$/.exec(type);
  if (m) {
    if (this._format === &#x27;html&#x27;) {
      throw new Error(&#x27;Invalid xml directive in html mode&#x27;);
    }
    var w = this._attrQuote;
    str = &#x27;&#x3c;?xml version=&#x27; + w + &#x27;1.0&#x27; + w + &#x27; encoding=&#x27; + w + (m[2] || &#x27;utf-8&#x27;) + w + &#x27; ?&#x3e;&#x27;;
  } else {
    str = DOCTYPES[this._format][type];
    if (!str) {
      throw new Error(&#x27;Invalid doctype &#x27; + type);
    }
  }

  return [&#x27;static&#x27;, str];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_js" id="apidoc.element.slm.fast.prototype.on_html_js">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_js
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_js = function (exps) {
  var content = exps[2];

  return [&#x27;multi&#x27;,
     [&#x27;static&#x27;, this._jsWrapper[0]],
     this.compile(content),
     [&#x27;static&#x27;, this._jsWrapper[1]]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.fast.prototype.on_html_tag" id="apidoc.element.slm.fast.prototype.on_html_tag">
        function <span class="apidocSignatureSpan">slm.fast.prototype.</span>on_html_tag
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_tag = function (exps) {
  var name = exps[2].toString(), attrs = exps[3], content = exps[4];

  var closed = !content || (this._isEmptyExp(content) &#x26;&#x26; (this._format === &#x27;xml&#x27; || this._autoclose.indexOf(name) !== -1));

  var res = [
    &#x27;multi&#x27;,
      [&#x27;static&#x27;, &#x27;&#x3c;&#x27; + name],
      this.compile(attrs),
      [&#x27;static&#x27;, (closed &#x26;&#x26; this._format !== &#x27;html&#x27; ? &#x27; /&#x27; : &#x27;&#x27;) + &#x27;&#x3e;&#x27;]
    ];

  if (content) {
    res.push(this.compile(content));
  }
  if (!closed) {
    res.push([&#x27;static&#x27;, &#x27;&#x3c;/&#x27; + name + &#x27;&#x3e;&#x27;]);
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.filter" id="apidoc.module.slm.filter">module slm.filter</a></h1>


    <h2>
        <a href="#apidoc.element.slm.filter.filter" id="apidoc.element.slm.filter.filter">
        function <span class="apidocSignatureSpan">slm.</span>filter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Filter() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.filter.prototype" id="apidoc.module.slm.filter.prototype">module slm.filter.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.filter.prototype._compileEach" id="apidoc.element.slm.filter.prototype._compileEach">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_compileEach
        <span class="apidocSignatureSpan">(exps, startIndex)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_compileEach = function (exps, startIndex) {
  for (var i = startIndex, l = exps.length; i &#x3c; l; i++) {
    exps[i] = this.compile(exps[i]);
  }
  return exps;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  for (var i = startIndex, l = exps.length; i &#x3c; l; i++) {
    exps[i] = this.compile(exps[i]);
  }
  return exps;
};

p._shiftAndCompile = function(exps) {
  return this.<span class="apidocCodeKeywordSpan">_compileEach</span>(exps, 2);
};

// Core

p.on_multi = function(exps) {
  return this._compileEach(exps, 1);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype._isEmptyExp" id="apidoc.element.slm.filter.prototype._isEmptyExp">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_isEmptyExp
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isEmptyExp = function (exp) {
  switch (exp[0]) {
  case &#x27;multi&#x27;:
    for (var i = 1, l = exp.length; i &#x3c; l; i++) {
      if (!this._isEmptyExp(exp[i])) {
        return false;
      }
    }
    return true;
  case &#x27;newline&#x27;:
    return true;
  default:
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Tools

p._isEmptyExp = function(exp) {
switch (exp[0]) {
case &#x27;multi&#x27;:
  for (var i = 1, l = exp.length; i &#x3c; l; i++) {
    if (!this.<span class="apidocCodeKeywordSpan">_isEmptyExp</span>(exp[i])) {
      return false;
    }
  }
  return true;
case &#x27;newline&#x27;:
  return true;
default:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype._shiftAndCompile" id="apidoc.element.slm.filter.prototype._shiftAndCompile">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_shiftAndCompile
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_shiftAndCompile = function (exps) {
  return this._compileEach(exps, 2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype._shiftAndCompileMulti" id="apidoc.element.slm.filter.prototype._shiftAndCompileMulti">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_shiftAndCompileMulti
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_shiftAndCompileMulti = function (exps) {
  var res = [&#x27;multi&#x27;];

  for (var i = 2, l = exps.length; i &#x3c; l; i++) {
    res.push(this.compile(exps[i]));
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype._uniqueName" id="apidoc.element.slm.filter.prototype._uniqueName">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>_uniqueName
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_uniqueName = function () {
  uniqueName++;
  return &#x27;$lm&#x27; + uniqueName.toString(16);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (j) {
      exp.push([&#x27;static&#x27;, delimiter]);
    }
    exp.push(jv);
  }
  attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, exp];
} else {
  var captures = this.<span class="apidocCodeKeywordSpan">_uniqueName</span>();
  exp.push([&#x27;code&#x27;, &#x27;var &#x27; + captures + &#x27;=[];&#x27;]);
  for (var a = 0, al = value.length; a &#x3c; al; a++) {
    exp.push([&#x27;capture&#x27;, captures + &#x27;[&#x27; + a + &#x27;]&#x27;, captures + &#x27;[&#x27; + a + &#x27;]&#x27; + &#
x27;=\&#x27;\&#x27;;&#x27;, value[a]]);
  }
  exp.push([&#x27;dynamic&#x27;, &#x27;vm.rejectEmpty(&#x27; + captures + &#x27;).join(&#x22;&#x27; + delimiter + &#x27;&#x22;)&#
x27;]);
  attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, exp];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype.on_block" id="apidoc.element.slm.filter.prototype.on_block">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_block
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_block = function (exps) {
  return [&#x27;block&#x27;, exps[1], this.compile(exps[2])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype.on_capture" id="apidoc.element.slm.filter.prototype.on_capture">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_capture
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_capture = function (exps) {
  return [&#x27;capture&#x27;, exps[1], exps[2], this.compile(exps[3])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype.on_escape" id="apidoc.element.slm.filter.prototype.on_escape">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_escape
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_escape = function (exps) {
  return [&#x27;escape&#x27;, exps[1], this.compile(exps[2])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype.on_if" id="apidoc.element.slm.filter.prototype.on_if">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_if
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_if = function (exps) {
  return this._compileEach(exps, 2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype.on_multi" id="apidoc.element.slm.filter.prototype.on_multi">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_multi
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_multi = function (exps) {
  return this._compileEach(exps, 1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.filter.prototype.on_switch" id="apidoc.element.slm.filter.prototype.on_switch">
        function <span class="apidocSignatureSpan">slm.filter.prototype.</span>on_switch
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_switch = function (exps) {
  for (var i = 2, l = exps.length; i &#x3c; l; i++) {
    var exp = exps[i];
    exps[i] = [exp[0], this.compile(exp[1])];
  }
  return exps;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.generator" id="apidoc.module.slm.generator">module slm.generator</a></h1>


    <h2>
        <a href="#apidoc.element.slm.generator.generator" id="apidoc.element.slm.generator.generator">
        function <span class="apidocSignatureSpan">slm.</span>generator
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Generator() {
  this._buffer = &#x27;_b&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.generator.prototype" id="apidoc.module.slm.generator.prototype">module slm.generator.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.generator.prototype.concat" id="apidoc.element.slm.generator.prototype.concat">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>concat
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">concat = function (str) {
  return this._buffer + &#x27;+=&#x27; + str + &#x27;;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

p.on_newline = function() {
  return &#x27;&#x27;;
};

p.on_static = function(exps) {
  return this.<span class="apidocCodeKeywordSpan">concat</span>(JSON.stringify(exps[1]));
};

p.on_dynamic = function(exps) {
  return this.concat(exps[1]);
};

p.on_code = function(exps) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.exec" id="apidoc.element.slm.generator.prototype.exec">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>exec
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (exp) {
  return [this.preamble(), this.compile(exp)].join(&#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.use = function(filter) {
  this._chain.push(filter);
};

p.exec = function(src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].<span class="apidocCodeKeywordSpan">exec</span>(res, options);
  }

  return res;
};

module.exports = Engine;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.on" id="apidoc.element.slm.generator.prototype.on">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on = function (exp) {
  throw new Error(&#x27;Generator supports only core expressions - found &#x27; + JSON.stringify(exp));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.on_code" id="apidoc.element.slm.generator.prototype.on_code">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_code
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_code = function (exps) {
  return exps[1];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.on_dynamic" id="apidoc.element.slm.generator.prototype.on_dynamic">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_dynamic
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_dynamic = function (exps) {
  return this.concat(exps[1]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.on_multi" id="apidoc.element.slm.generator.prototype.on_multi">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_multi
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_multi = function (exps) {
  for (var i = 1, l = exps.length; i &#x3c; l; i++) {
    exps[i] = this.compile(exps[i]);
  }
  exps.shift();
  return exps.join(&#x27;\n&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.on_newline" id="apidoc.element.slm.generator.prototype.on_newline">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_newline
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_newline = function () {
  return &#x27;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.generator.prototype.on_static" id="apidoc.element.slm.generator.prototype.on_static">
        function <span class="apidocSignatureSpan">slm.generator.prototype.</span>on_static
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_static = function (exps) {
  return this.concat(JSON.stringify(exps[1]));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.html" id="apidoc.module.slm.html">module slm.html</a></h1>


    <h2>
        <a href="#apidoc.element.slm.html.html" id="apidoc.element.slm.html.html">
        function <span class="apidocSignatureSpan">slm.</span>html
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Html() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.html.prototype" id="apidoc.module.slm.html.prototype">module slm.html.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.html.prototype._isContainNonEmptyStatic" id="apidoc.element.slm.html.prototype._isContainNonEmptyStatic">
        function <span class="apidocSignatureSpan">slm.html.prototype.</span>_isContainNonEmptyStatic
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isContainNonEmptyStatic = function (exp) {
  switch (exp[0]) {
  case &#x27;multi&#x27;:
    for (var i = 1, l = exp.length; i &#x3c; l; i++) {
      if (this._isContainNonEmptyStatic(exp[i])) {
        return true;
      }
    }
    return false;
  case &#x27;escape&#x27;:
    return this._isContainNonEmptyStatic(exp[exp.length - 1]);
  case &#x27;static&#x27;:
    return exp[1].length;
  default:
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  for (var i = 0, il = names.length; i &#x3c; il; i++) {
var name = names[i];
var value = values[name], delimiter = this._mergeAttrs[name];
if (delimiter &#x26;&#x26; value.length &#x3e; 1) {
  var all = false, exp = [&#x27;multi&#x27;];
  for (var k = 0, kl = value.length; k &#x3c; kl; k++) {
    var kv = value[k];
    all = this.<span class="apidocCodeKeywordSpan">_isContainNonEmptyStatic</span>(kv);
    if (!all) {
      break;
    }
  }
  if (all) {
    for (var j = 0, jl = value.length; j &#x3c; jl; j++) {
      var jv = value[j];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.html.prototype.on_html_attr" id="apidoc.element.slm.html.prototype.on_html_attr">
        function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_attr
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attr = function (exps) {
  return [&#x27;html&#x27;, &#x27;attr&#x27;, exps[2], this.compile(exps[3])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.html.prototype.on_html_attrs" id="apidoc.element.slm.html.prototype.on_html_attrs">
        function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_attrs
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_attrs = function (exps) {
  return this._compileEach(exps, 2);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.html.prototype.on_html_comment" id="apidoc.element.slm.html.prototype.on_html_comment">
        function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_comment
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_comment = function (exps) {
  return [&#x27;html&#x27;, &#x27;comment&#x27;, this.compile(exps[2])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

p.on_html_comment = function(exps) {
return [&#x27;multi&#x27;, [&#x27;static&#x27;, &#x27;&#x3c;!--&#x27;], this.compile(exps[2]), [&#x27;static&#x27;, &#x27;--&#x3e
;&#x27;]];
};

p.on_html_condcomment = function(exps) {
return this.<span class="apidocCodeKeywordSpan">on_html_comment</span>([&#x27;html&#x27;, &#x27;comment&#x27;, [
  &#x27;multi&#x27;,
    [&#x27;static&#x27;, &#x27;[&#x27; + exps[2] + &#x27;]&#x3e;&#x27;], exps[3], [&#x27;static&#x27;, &#x27;&#x3c;![endif]&#x27
;]]]);
};

p.on_html_tag = function(exps) {
var name = exps[2].toString(), attrs = exps[3], content = exps[4];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.html.prototype.on_html_condcomment" id="apidoc.element.slm.html.prototype.on_html_condcomment">
        function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_condcomment
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_condcomment = function (exps) {
  return [&#x27;html&#x27;, &#x27;condcomment&#x27;, exps[2], this.compile(exps[3])];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.html.prototype.on_html_tag" id="apidoc.element.slm.html.prototype.on_html_tag">
        function <span class="apidocSignatureSpan">slm.html.prototype.</span>on_html_tag
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_html_tag = function (exps) {
  var content = exps[4];
  var res = [&#x27;html&#x27;, &#x27;tag&#x27;, exps[2], this.compile(exps[3])];
  if (content) {
    res.push(this.compile(content));
  }
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.interpolate" id="apidoc.module.slm.interpolate">module slm.interpolate</a></h1>


    <h2>
        <a href="#apidoc.element.slm.interpolate.interpolate" id="apidoc.element.slm.interpolate.interpolate">
        function <span class="apidocSignatureSpan">slm.</span>interpolate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Interpolate() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.interpolate.prototype" id="apidoc.module.slm.interpolate.prototype">module slm.interpolate.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.interpolate.prototype._parseExpression" id="apidoc.element.slm.interpolate.prototype._parseExpression">
        function <span class="apidocSignatureSpan">slm.interpolate.prototype.</span>_parseExpression
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseExpression = function (str) {
  for (var count = 1, i = 0, l = str.length; i &#x3c; l &#x26;&#x26; count; i++) {
    if (str[i] === &#x27;{&#x27;) {
      count++;
    } else if (str[i] === &#x27;}&#x27;) {
      count--;
    }
  }

  if (count) {
    throw new Error(&#x27;Text interpolation: Expected closing }&#x27;);
  }

  return [str.slice(i), str.substring(0, i - 1)];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  block.push([&#x27;static&#x27;, &#x27;${&#x27;]);
  str = str.slice(m[0].length);
  continue;
}
m = interpolationRe.exec(str);
if (m) {
  // Interpolation
  var res = this.<span class="apidocCodeKeywordSpan">_parseExpression</span>(str.slice(m[0].length));
  str = res[0];
  code = res[1];
  var escape = code[0] !== &#x27;=&#x27;;
  block.push([&#x27;slm&#x27;, &#x27;output&#x27;, escape, escape ? code : code.slice(1), [&#x27;multi&#x27;]]);
} else {
  m = staticTextRe.exec(str);
  // static text
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.interpolate.prototype.on_slm_interpolate" id="apidoc.element.slm.interpolate.prototype.on_slm_interpolate">
        function <span class="apidocSignatureSpan">slm.interpolate.prototype.</span>on_slm_interpolate
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_interpolate = function (exps) {
  var str = exps[2], m, code;

  // Interpolate variables in text (${variable}).
  // Split the text into multiple dynamic and static parts.
  var block = [&#x27;multi&#x27;];
  do {
    // Escaped interpolation
    m = escapedInterpolationRe.exec(str);
    if (m) {
      block.push([&#x27;static&#x27;, &#x27;${&#x27;]);
      str = str.slice(m[0].length);
      continue;
    }
    m = interpolationRe.exec(str);
    if (m) {
      // Interpolation
      var res = this._parseExpression(str.slice(m[0].length));
      str = res[0];
      code = res[1];
      var escape = code[0] !== &#x27;=&#x27;;
      block.push([&#x27;slm&#x27;, &#x27;output&#x27;, escape, escape ? code : code.slice(1), [&#x27;multi&#x27;]]);
    } else {
      m = staticTextRe.exec(str);
      // static text
      block.push([&#x27;static&#x27;, m[0]]);
      str = str.slice(m[0].length);
    }
  } while (str.length);

  return block;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.multi_flattener" id="apidoc.module.slm.multi_flattener">module slm.multi_flattener</a></h1>


    <h2>
        <a href="#apidoc.element.slm.multi_flattener.multi_flattener" id="apidoc.element.slm.multi_flattener.multi_flattener">
        function <span class="apidocSignatureSpan">slm.</span>multi_flattener
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MultiFlattener() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.multi_flattener.prototype" id="apidoc.module.slm.multi_flattener.prototype">module slm.multi_flattener.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.multi_flattener.prototype.on_multi" id="apidoc.element.slm.multi_flattener.prototype.on_multi">
        function <span class="apidocSignatureSpan">slm.multi_flattener.prototype.</span>on_multi
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_multi = function (exps) {
  // If the multi contains a single element, just return the element
  var len = exps.length;
  if (len === 2) {
    return this.compile(exps[1]);
  }

  var res = [&#x27;multi&#x27;];

  for (var i = 1; i &#x3c; len; i++) {
    var exp = exps[i];
    exp = this.compile(exp);
    if (exp[0] === &#x27;multi&#x27;) {
      for (var j = 1, l = exp.length; j &#x3c; l; j++) {
        res.push(exp[j]);
      }
    } else {
      res.push(exp);
    }
  }

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.parser" id="apidoc.module.slm.parser">module slm.parser</a></h1>


    <h2>
        <a href="#apidoc.element.slm.parser.parser" id="apidoc.element.slm.parser.parser">
        function <span class="apidocSignatureSpan">slm.</span>parser
        <span class="apidocSignatureSpan">(attrDelims)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(attrDelims) {
  this._attrDelims = attrDelims || { &#x27;(&#x27;: &#x27;)&#x27;, &#x27;[&#x27;: &#x27;]&#x27; };

  var attrDelimsStr = &#x27;&#x27;;

  for (var key in this._attrDelims) {
    attrDelimsStr += key +  this._attrDelims[key];
  }
  attrDelimsStr = this._escapeRegExp(attrDelimsStr)

  this._attrName = &#x27;^\\s*((?!\\${)[^\\0\\&#x22;\&#x27;&#x3e;&#x3c;\\/=\\s#&#x27; + attrDelimsStr+ &#x27;]+)&#x27;;
  this._quotedAttrRe = new RegExp(this._attrName + &#x27;\\s*=(=?)\\s*(&#x22;|\&#x27;)&#x27;);
  this._codeAttrRe = new RegExp(this._attrName + &#x27;\\s*=(=?)\\s*&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.parser.prototype" id="apidoc.module.slm.parser.prototype">module slm.parser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.parser.prototype._escapeRegExp" id="apidoc.element.slm.parser.prototype._escapeRegExp">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_escapeRegExp
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_escapeRegExp = function (str) {
  if (!str) {
    return &#x27;&#x27;;
  }
  return str.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, &#x27;\\$&#x26;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._attrDelims = attrDelims || { &#x27;(&#x27;: &#x27;)&#x27;, &#x27;[&#x27;: &#x27;]&#x27; };

  var attrDelimsStr = &#x27;&#x27;;

  for (var key in this._attrDelims) {
    attrDelimsStr += key +  this._attrDelims[key];
  }
  attrDelimsStr = this.<span class="apidocCodeKeywordSpan">_escapeRegExp</span>(attrDelimsStr)

  this._attrName = &#x27;^\\s*((?!\\${)[^\\0\\&#x22;\&#x27;&#x3e;&#x3c;\\/=\\s#&#x27; + attrDelimsStr+ &#x27;]+)&#x27;;
  this._quotedAttrRe = new RegExp(this._attrName + &#x27;\\s*=(=?)\\s*(&#x22;|\&#x27;)&#x27;);
  this._codeAttrRe = new RegExp(this._attrName + &#x27;\\s*=(=?)\\s*&#x27;);
}

var p = Parser.prototype;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._expectNextLine" id="apidoc.element.slm.parser.prototype._expectNextLine">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_expectNextLine
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_expectNextLine = function () {
  if (this._nextLine() === null) {
    this._syntaxError(&#x27;Unexpected end of file&#x27;);
  }
  this._line = this._line.trim();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return result;
};


p._parseBrokenLine = function() {
  var brokenLine = this._line.trim(), m;
  while ((m = nextLineRe.exec(brokenLine))) {
    this.<span class="apidocCodeKeywordSpan">_expectNextLine</span>();
    if (m[0] === &#x27;\\&#x27;) {
      brokenLine = brokenLine.slice(0, brokenLine.length - 2);
    }
    brokenLine += &#x27;\n&#x27; + this._line;
  }
  return brokenLine;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._getIndent" id="apidoc.element.slm.parser.prototype._getIndent">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_getIndent
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getIndent = function (line) {
  // Figure out the indentation. Kinda ugly/slow way to support tabs,
  // but remember that this is only done at parsing time.
  var m = line.match(indentRegex);
  return m ? m[0].replace(tabRe, &#x27; &#x27;).length : 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

p._parseLine = function() {
if (emptyLineRe.test(this._line)) {
  this._pushOnTop([&#x27;newline&#x27;]);
  return;
}

var indent = this.<span class="apidocCodeKeywordSpan">_getIndent</span>(this._line);

// Choose first indentation yourself
if (!this._indents.length) {
  this._indents.push(indent);
}

// Remove the indentation
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._ifTrueThen" id="apidoc.element.slm.parser.prototype._ifTrueThen">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_ifTrueThen
        <span class="apidocSignatureSpan">(condition, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_ifTrueThen = function (condition, next) {
  if (condition) {
    next(this);
    return true;
  }

  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    if (
// HTML comment
this._matchLineThen(htmlCommentRe, _parseHtmlComment) ||
// or HTML conditional comment
this._matchLineThen(htmlConditionalCommentRe, _parseHtmlConditionalComment) ||
// Slm comment
this.<span class="apidocCodeKeywordSpan">_ifTrueThen</span>(firstChar === &#x27;/&#x27;, _parseCommentBlock) ||
// Text block.
this._matchLineThen(textBlockRe, _parseTextBlock) ||
// Inline html
this._ifTrueThen(firstChar === &#x27;&#x3c;&#x27;, _parseInlineHtml) ||
// Code block.
this._ifTrueThen(firstChar === &#x27;-&#x27;, _parseCodeBlock) ||
// Output block.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._matchLineThen" id="apidoc.element.slm.parser.prototype._matchLineThen">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_matchLineThen
        <span class="apidocSignatureSpan">(regex, next)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_matchLineThen = function (regex, next) {
  var m = regex.exec(this._line);
  if (m) {
    next(this, m);
    return true;
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

p._parseLineIndicators = function() {
  for (;;) {
var firstChar = this._line[0];

if (
  // HTML comment
  this.<span class="apidocCodeKeywordSpan">_matchLineThen</span>(htmlCommentRe, _parseHtmlComment) ||
  // or HTML conditional comment
  this._matchLineThen(htmlConditionalCommentRe, _parseHtmlConditionalComment) ||
  // Slm comment
  this._ifTrueThen(firstChar === &#x27;/&#x27;, _parseCommentBlock) ||
  // Text block.
  this._matchLineThen(textBlockRe, _parseTextBlock) ||
  // Inline html
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._nextLine" id="apidoc.element.slm.parser.prototype._nextLine">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_nextLine
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_nextLine = function () {
  if (this._lines.length) {
    this._origLine = this._lines.shift();
    this._lineno++;
    this._line = this._origLine;
  } else {
    this._origLine = this._line = null;
  }

  return this._line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this._file = options.filename;
  } else {
    this._file = null;
  }
  var res = [&#x27;multi&#x27;];
  this._reset(str.split(newLineRe), [res]);

  while (this.<span class="apidocCodeKeywordSpan">_nextLine</span>() !== null) {
    this._parseLine();
  }

  this._reset();

  return res;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseAttributes" id="apidoc.element.slm.parser.prototype._parseAttributes">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseAttributes
        <span class="apidocSignatureSpan">(attributes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseAttributes = function (attributes) {
  // Check to see if there is a delimiter right after the tag name
  var delimiter, m;

  m = attrDelimRe.exec(this._line);
  if (m) {
    delimiter = this._attrDelims[m[1]];
    this._sliceLine(m[0].length);
  }

  var booleanAttrRe, endRe;
  if (delimiter) {
    booleanAttrRe = new RegExp(this._attrName + &#x27;(?=(\\s|&#x27; + this._escapeRegExp(delimiter) + &#x27;|$))&#x27;);
    endRe = new RegExp(&#x27;^\\s*&#x27; + this._escapeRegExp(delimiter));
  }

  while (true) {
    // Value is quoted (static)
    m = this._quotedAttrRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      attributes.push([&#x27;html&#x27;, &#x27;attr&#x27;, m[1],
                      [&#x27;escape&#x27;, !m[2].length, [&#x27;slm&#x27;, &#x27;interpolate&#x27;, this._parseQuotedAttribute(m[3])]]]);
      continue;
    }

    // Value is JS code
    m = this._codeAttrRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      var name = m[1], escape = !m[2].length;
      var value = this._parseJSCode(delimiter);

      if (!value.length) {
        this._syntaxError(&#x27;Invalid empty attribute&#x27;);
      }
      attributes.push([&#x27;html&#x27;, &#x27;attr&#x27;, name, [&#x27;slm&#x27;, &#x27;attrvalue&#x27;, escape, value]]);
      continue;
    }

    if (!delimiter) {
      break;
    }

    // Boolean attribute
    m = booleanAttrRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      attributes.push([&#x27;html&#x27;, &#x27;attr&#x27;, m[1], [&#x27;multi&#x27;]]);
      continue;
    }
    // Find ending delimiter
    m = endRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      break;
    }

    // Found something where an attribute should be
    this._line = this._line.replace(indentationRe, &#x27;&#x27;);
    if (this._line.length) {
      this._syntaxError(&#x27;Expected attribute&#x27;);
    }

    // Attributes span multiple lines
    this._pushOnTop([&#x27;newline&#x27;]);

    if (!this._lines.length) {
      this._syntaxError(&#x27;Expected closing delimiter &#x27; + delimiter);
    }
    this._nextLine();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
m = /^[&#x3c;&#x3e;]+/.exec(this._line);
if (m) {
  this._sliceLine(m[0].length);
  trailingWS = m[0].indexOf(&#x27;&#x3e;&#x27;) !== -1;
  leadingWS = m[0].indexOf(&#x27;&#x3c;&#x27;) !== -1;
}

this.<span class="apidocCodeKeywordSpan">_parseAttributes</span>(attributes);

tag = [&#x27;html&#x27;, &#x27;tag&#x27;, tag, attributes];

if (leadingWS) {
  this._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
}
this._pushOnTop(tag);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseBrokenLine" id="apidoc.element.slm.parser.prototype._parseBrokenLine">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseBrokenLine
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseBrokenLine = function () {
  var brokenLine = this._line.trim(), m;
  while ((m = nextLineRe.exec(brokenLine))) {
    this._expectNextLine();
    if (m[0] === &#x27;\\&#x27;) {
      brokenLine = brokenLine.slice(0, brokenLine.length - 2);
    }
    brokenLine += &#x27;\n&#x27; + this._line;
  }
  return brokenLine;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  parser._sliceLine(m[0].length);

  var trailingWS = m[2].indexOf(&#x27;&#x3e;&#x27;) !== -1;
  var block = [&#x27;multi&#x27;];
  if (m[2].indexOf(&#x27;&#x3c;&#x27;) !== -1) {
    parser._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
  }
  parser._pushOnTop([&#x27;slm&#x27;, &#x27;output&#x27;, m[1].length === 0, parser.<span class="apidocCodeKeywordSpan">_parseBrokenLine
</span>(), block]);
  if (trailingWS) {
    parser._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
  }
  parser._stacks.push(block);
};

var _parseEmbeded = function(parser, m) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseJSCode" id="apidoc.element.slm.parser.prototype._parseJSCode">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseJSCode
        <span class="apidocSignatureSpan">(outerDelimeter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseJSCode = function (outerDelimeter) {
  var code = &#x27;&#x27;, count = 0, delimiter, closeDelimiter, m;

  // Attribute ends with space or attribute delimiter
  var endRe = new RegExp(&#x27;^[\\s&#x27; + this._escapeRegExp(outerDelimeter) + &#x27;]&#x27;);

  while (this._line.length &#x26;&#x26; (count || !endRe.test(this._line))) {
    m = nextLineRe.exec(this._line);
    if (m) {
      if (m[0] === &#x27;\\&#x27;) {
        code += this._line.slice(0, this._line.length - 2);
      } else  {
        code += this._line;
      }
      code += &#x27;\n&#x27;;
      this._expectNextLine();
    } else {
      if (count &#x3e; 0) {
        if (this._line[0] === delimiter[0]) {
          count++;
        } else if (this._line[0] === closeDelimiter[0]) {
          count--;
        }
      } else {
        m = delimRe.exec(this._line);
        if (m) {
          count = 1;
          delimiter = m[0];
          closeDelimiter = this._attrDelims[delimiter];
        }
      }

      code += this._line[0];
      this._sliceLine(1);
    }
  }

  if (count) {
    this._syntaxError(&#x27;Expected closing delimiter &#x27; + closeDelimiter);
  }
  return code;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Value is JS code
m = this._codeAttrRe.exec(this._line);
if (m) {
  this._sliceLine(m[0].length);
  var name = m[1], escape = !m[2].length;
  var value = this.<span class="apidocCodeKeywordSpan">_parseJSCode</span>(delimiter);

  if (!value.length) {
    this._syntaxError(&#x27;Invalid empty attribute&#x27;);
  }
  attributes.push([&#x27;html&#x27;, &#x27;attr&#x27;, name, [&#x27;slm&#x27;, &#x27;attrvalue&#x27;, escape, value]]);
  continue;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseLine" id="apidoc.element.slm.parser.prototype._parseLine">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseLine
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseLine = function () {
  if (emptyLineRe.test(this._line)) {
    this._pushOnTop([&#x27;newline&#x27;]);
    return;
  }

  var indent = this._getIndent(this._line);

  // Choose first indentation yourself
  if (!this._indents.length) {
    this._indents.push(indent);
  }

  // Remove the indentation
  this._line = this._line.replace(indentationRe, &#x27;&#x27;);

  // If there&#x27;s more stacks than indents, it means that the previous
  // line is expecting this line to be indented.
  var expectingIndentation = this._stacks.length &#x3e; this._indents.length;

  if (indent &#x3e; this._indents._last()) {
    // This line was actually indented, so we&#x27;ll have to check if it was
    // supposed to be indented or not.

    if (!expectingIndentation) {
      this._syntaxError(&#x27;Unexpected indentation&#x27;);
    }

    this._indents.push(indent);
  } else {
    // This line was *not* indented more than the line before,
    // so we&#x27;ll just forget about the stack that the previous line pushed.
    if (expectingIndentation) {
      this._stacks.pop();
    }

    // This line was deindented.
    // Now we&#x27;re have to go through the all the indents and figure out
    // how many levels we&#x27;ve deindented.
    while (indent &#x3c; this._indents._last() &#x26;&#x26; this._indents.length &#x3e; 1) {
      this._indents.pop();
      this._stacks.pop();
    }

    // This line&#x27;s indentation happens lie &#x22;between&#x22; two other line&#x27;s
    // indentation:
    //
    //   hello
    //       world
    //     this      # &#x3c;- This should not be possible!

    if (indent !== this._indents._last()) {
      this._syntaxError(&#x27;Malformed indentation&#x27;);
    }
  }

  this._parseLineIndicators();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else {
    this._file = null;
  }
  var res = [&#x27;multi&#x27;];
  this._reset(str.split(newLineRe), [res]);

  while (this._nextLine() !== null) {
    this.<span class="apidocCodeKeywordSpan">_parseLine</span>();
  }

  this._reset();

  return res;
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseLineIndicators" id="apidoc.element.slm.parser.prototype._parseLineIndicators">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseLineIndicators
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseLineIndicators = function () {
  for (;;) {
    var firstChar = this._line[0];

    if (
      // HTML comment
      this._matchLineThen(htmlCommentRe, _parseHtmlComment) ||
      // or HTML conditional comment
      this._matchLineThen(htmlConditionalCommentRe, _parseHtmlConditionalComment) ||
      // Slm comment
      this._ifTrueThen(firstChar === &#x27;/&#x27;, _parseCommentBlock) ||
      // Text block.
      this._matchLineThen(textBlockRe, _parseTextBlock) ||
      // Inline html
      this._ifTrueThen(firstChar === &#x27;&#x3c;&#x27;, _parseInlineHtml) ||
      // Code block.
      this._ifTrueThen(firstChar === &#x27;-&#x27;, _parseCodeBlock) ||
      // Output block.
      this._matchLineThen(outputBlockRe, _parseOutputBlock) ||
      // Embedded template.
      this._matchLineThen(embededRe, _parseEmbeded) ||
      // Doctype declaration
      this._matchLineThen(doctypeRe, _parseDoctype) ||
      // HTML tag
      this._matchLineThen(tagRe, _parseTag)) {
        this._pushOnTop([&#x27;newline&#x27;]);
        return;
      }
    this._syntaxError(&#x27;Unknown line indicator&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  //     this      # &#x3c;- This should not be possible!

  if (indent !== this._indents._last()) {
    this._syntaxError(&#x27;Malformed indentation&#x27;);
  }
}

this.<span class="apidocCodeKeywordSpan">_parseLineIndicators</span>();
};

var _parseHtmlComment = function(parser, m) {
parser._pushOnTop([&#x27;html&#x27;, &#x27;comment&#x27;,
  [
    &#x27;slm&#x27;, &#x27;text&#x27;,
    parser._parseTextBlock(parser._line.slice(m[0].length),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseQuotedAttribute" id="apidoc.element.slm.parser.prototype._parseQuotedAttribute">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseQuotedAttribute
        <span class="apidocSignatureSpan">(quote)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseQuotedAttribute = function (quote) {
  var value = &#x27;&#x27;, count = 0;

  while (count !== 0 || this._line[0] !== quote) {
    var m = /^(\\)?$/.exec(this._line);
    if (m) {
      value += m[1] ? &#x27; &#x27; : &#x27;\n&#x27;;
      this._expectNextLine();
    } else {
      var firstChar = this._line[0];
      if (count &#x3e; 0) {
        if (firstChar === &#x27;{&#x27;) {
          count++;
        } else if (firstChar === &#x27;}&#x27;) {
          count--;
        }
      } else if (/^\$\{/.test(this._line)) {
        value += firstChar;
        this._sliceLine(1);
        count = 1;
      }

      value += this._line[0];
      this._sliceLine(1);
    }
  }

  this._sliceLine(1);

  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  while (true) {
// Value is quoted (static)
m = this._quotedAttrRe.exec(this._line);
if (m) {
  this._sliceLine(m[0].length);
  attributes.push([&#x27;html&#x27;, &#x27;attr&#x27;, m[1],
                  [&#x27;escape&#x27;, !m[2].length, [&#x27;slm&#x27;, &#x27;interpolate&#x27;, this.<span class="apidocCodeKeywordSpan
">_parseQuotedAttribute</span>(m[3])]]]);
  continue;
}

// Value is JS code
m = this._codeAttrRe.exec(this._line);
if (m) {
  this._sliceLine(m[0].length);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseShortcutAttributes" id="apidoc.element.slm.parser.prototype._parseShortcutAttributes">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseShortcutAttributes
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseShortcutAttributes = function () {
  // Find any shortcut attributes
  var attributes = [&#x27;html&#x27;, &#x27;attrs&#x27;], m;
  while ((m = attrShortcutRe.exec(this._line))) {
    // The class/id attribute is :static instead of &#x27;slm&#x27; &#x27;interpolate&#x27;,
    // because we don&#x27;t want text interpolation in .class or #id shortcut
    var shortcut = attrShortcut[m[1]];
    if (!shortcut) {
      this._syntaxError(&#x27;Illegal shortcut&#x27;);
    }

    for (var i = 0, il = shortcut.length; i &#x3c; il; i++) {
      attributes.push([&#x27;html&#x27;, &#x27;attr&#x27;, shortcut[i], [&#x27;static&#x27;, m[2]]]);
    }

    this._sliceLine(m[0].length);
  }
  return attributes;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

p._parseTag = function(tag) {
var m, trailingWS, leadingWS;
if (tagShortcut[tag]) {
  tag = tagShortcut[tag];
}

var attributes = this.<span class="apidocCodeKeywordSpan">_parseShortcutAttributes</span>();
m = /^[&#x3c;&#x3e;]+/.exec(this._line);
if (m) {
  this._sliceLine(m[0].length);
  trailingWS = m[0].indexOf(&#x27;&#x3e;&#x27;) !== -1;
  leadingWS = m[0].indexOf(&#x27;&#x3c;&#x27;) !== -1;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseTag" id="apidoc.element.slm.parser.prototype._parseTag">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseTag
        <span class="apidocSignatureSpan">(tag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseTag = function (tag) {
  var m, trailingWS, leadingWS;
  if (tagShortcut[tag]) {
    tag = tagShortcut[tag];
  }

  var attributes = this._parseShortcutAttributes();
  m = /^[&#x3c;&#x3e;]+/.exec(this._line);
  if (m) {
    this._sliceLine(m[0].length);
    trailingWS = m[0].indexOf(&#x27;&#x3e;&#x27;) !== -1;
    leadingWS = m[0].indexOf(&#x27;&#x3c;&#x27;) !== -1;
  }

  this._parseAttributes(attributes);

  tag = [&#x27;html&#x27;, &#x27;tag&#x27;, tag, attributes];

  if (leadingWS) {
    this._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
  }
  this._pushOnTop(tag);
  if (trailingWS) {
    this._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
  }

  for(;;) {
    // Block expansion
    m = blockExpressionRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      if (!(m = tagRe.exec(this._line))) {
        this._syntaxError(&#x27;Expected tag&#x27;);
      }

      if (m[1]) {
        this._sliceLine(m[0].length);
      }

      var content = [&#x27;multi&#x27;];
      tag.push(content);

      var sl = this._stacks.length;
      this._stacks.push(content);
      this._parseTag(m[0]);
      this._stacks.splice(sl, 1);

      break;
    }

    // Handle output code
    m = outputCodeRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      var trailingWS2 = m[2].indexOf(&#x27;&#x3e;&#x27;) !== -1;

      var block = [&#x27;multi&#x27;];

      if (!leadingWS &#x26;&#x26; m[2].indexOf(&#x27;&#x3c;&#x27;) !== -1) {
        var lastStack = this._stacks._last();
        lastStack.splice(lastStack.length - 1, 0, [&#x27;static&#x27;, &#x27; &#x27;]);
      }

      tag.push([&#x27;slm&#x27;, &#x27;output&#x27;, m[1] !== &#x27;=&#x27;, this._parseBrokenLine(), block]);
      if (!trailingWS &#x26;&#x26; trailingWS2) {
        this._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
      }
      this._stacks.push(block);
      break;
    }

    // Closed tag. Do nothing
    m = closedTagRe.exec(this._line);
    if (m) {
      this._sliceLine(m[0].length);
      if (this._line.length) {
        this._syntaxError(&#x27;Unexpected text after closed tag&#x27;);
      }
      break;
    }

    // Empty content
    if (emptyLineRe.test(this._line)) {
      var emptyContent = [&#x27;multi&#x27;];
      tag.push(emptyContent);
      this._stacks.push(emptyContent);
      break;
    }

    // Text content
    m = textContentRe.exec(this._line);
    if (m) {
      tag.push([&#x27;slm&#x27;, &#x27;text&#x27;, this._parseTextBlock(m[2], this._origLine.length - this._line.length + m[1].length, true)]);
      break;
    }

    break;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
parser._pushOnTop([&#x27;html&#x27;, &#x27;doctype&#x27;, value]);
};

var _parseTag = function(parser, m) {
if (m[1]) {
  parser._sliceLine(m[0].length);
}
parser.<span class="apidocCodeKeywordSpan">_parseTag</span>(m[0]);
};

p._matchLineThen = function(regex, next) {
var m = regex.exec(this._line);
if (m) {
  next(this, m);
  return true;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._parseTextBlock" id="apidoc.element.slm.parser.prototype._parseTextBlock">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_parseTextBlock
        <span class="apidocSignatureSpan">(firstLine, textIndent, inTag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseTextBlock = function (firstLine, textIndent, inTag) {
  var result = [&#x27;multi&#x27;];

  if (!firstLine || !firstLine.length) {
    textIndent = null;
  } else {
    result.push([&#x27;slm&#x27;, &#x27;interpolate&#x27;, firstLine]);
  }

  var emptyLines = 0;

  while (this._lines.length) {
    if (emptyLineRe.test(this._lines[0])) {
      this._nextLine();
      result.push([&#x27;newline&#x27;]);

      if (textIndent) {
        emptyLines++;
      }
    } else {
      var indent = this._getIndent(this._lines[0]);

      if (indent &#x3c;= this._indents._last()) {
        break;
      }

      if (emptyLines) {
        result.push([&#x27;slm&#x27;, &#x27;interpolate&#x27;, new Array(emptyLines + 1).join(&#x27;\n&#x27;)]);
        emptyLines = 0;
      }

      this._nextLine();
      this._line = this._line.replace(indentationRe, &#x27;&#x27;);

      // The text block lines must be at least indented
      // as deep as the first line.

      var offset = textIndent ? indent - textIndent : 0;

      if (offset &#x3c; 0) {
        this._syntaxError(&#x27;Text line not indented deep enough.\n&#x27; +
                         &#x27;The first text line defines the necessary text indentation.&#x27; +
                         (inTag ? &#x27;\nAre you trying to nest a child tag in a tag containing text? Use | for the text block!&#x27; : &#x27;&#x27;));
      }

      result.push([&#x27;newline&#x27;]);
      result.push([&#x27;slm&#x27;, &#x27;interpolate&#x27;, (textIndent ? &#x27;\n&#x27; : &#x27;&#x27;) + new Array(offset + 1).join(&#x27; &#x27;) + this._line]);

      // The indentation of first line of the text block
      // determines the text base indentation.
      textIndent = textIndent || indent;
    }
  }

  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._parseLineIndicators();
};

var _parseHtmlComment = function(parser, m) {
parser._pushOnTop([&#x27;html&#x27;, &#x27;comment&#x27;,
  [
    &#x27;slm&#x27;, &#x27;text&#x27;,
    parser.<span class="apidocCodeKeywordSpan">_parseTextBlock</span>(parser._line.slice(m[0].length),
    parser._indents._last() + m[1].length + 2)
  ]
]);
};

var _parseHtmlConditionalComment = function(parser, m) {
var block = [&#x27;multi&#x27;];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._pushOnTop" id="apidoc.element.slm.parser.prototype._pushOnTop">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_pushOnTop
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_pushOnTop = function (item) {
  this._stacks._last().push(item);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._reset();

return res;
};

p._parseLine = function() {
if (emptyLineRe.test(this._line)) {
  this.<span class="apidocCodeKeywordSpan">_pushOnTop</span>([&#x27;newline&#x27;]);
  return;
}

var indent = this._getIndent(this._line);

// Choose first indentation yourself
if (!this._indents.length) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._reset" id="apidoc.element.slm.parser.prototype._reset">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_reset
        <span class="apidocSignatureSpan">(lines, stacks)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_reset = function (lines, stacks) {
  // Since you can indent however you like in Slm, we need to keep a list
  // of how deeply indented you are. For instance, in a template like this:
  //
  //   doctype       # 0 spaces
  //   html          # 0 spaces
  //    head         # 1 space
  //       title     # 4 spaces
  //
  // indents will then contain [0, 1, 4] (when it&#x27;s processing the last line.)

  // We uses this information to figure out how many steps we must &#x22;jump&#x22;
  // out when we see an de-indented line.
  this._indents = [];

  //  Whenever we want to output something, we&#x27;ll *always* output it to the
  //  last stack in this array. So when there&#x27;s a line that expects
  //  indentation, we simply push a new stack onto this array. When it
  //  processes the next line, the content will then be outputted into that
  //  stack.
  this._stacks = stacks || [];

  this._lineno = 0;
  this._lines = lines;
  this._line = this._origLine = null;

  this._indents._last = this._stacks._last = function() {
    return this[this.length - 1];
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.exec = function(str, options) {
if (options &#x26;&#x26; options.filename) {
  this._file = options.filename;
} else {
  this._file = null;
}
var res = [&#x27;multi&#x27;];
this.<span class="apidocCodeKeywordSpan">_reset</span>(str.split(newLineRe), [res]);

while (this._nextLine() !== null) {
  this._parseLine();
}

this._reset();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._sliceLine" id="apidoc.element.slm.parser.prototype._sliceLine">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_sliceLine
        <span class="apidocSignatureSpan">(beginSlice)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_sliceLine = function (beginSlice) {
  this._line = this._line.slice(beginSlice);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (trailingWS) {
  parser._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
}
};

var _parseOutputBlock = function(parser, m) {
// We expect the line to be broken or the next line to be indented.
parser.<span class="apidocCodeKeywordSpan">_sliceLine</span>(m[0].length);

var trailingWS = m[2].indexOf(&#x27;&#x3e;&#x27;) !== -1;
var block = [&#x27;multi&#x27;];
if (m[2].indexOf(&#x27;&#x3c;&#x27;) !== -1) {
  parser._pushOnTop([&#x27;static&#x27;, &#x27; &#x27;]);
}
parser._pushOnTop([&#x27;slm&#x27;, &#x27;output&#x27;, m[1].length === 0, parser._parseBrokenLine(), block]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype._syntaxError" id="apidoc.element.slm.parser.prototype._syntaxError">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>_syntaxError
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_syntaxError = function (message) {
  var column = (this._origLine !== null &#x26;&#x26; this._line !== null) ? this._origLine.length - this._line.length : 0;
  column += 1;
  var msg = [
    message,
    &#x27;  &#x27; + (this._file || &#x27;(__TEMPLATE__)&#x27;) + &#x27;, Line &#x27; + this._lineno + &#x27;, Column &#x27; + column,
    &#x27;  &#x27; + (this._origLine || &#x27;&#x27;),
    &#x27;  &#x27; + new Array(column).join(&#x27; &#x27;) + &#x27;^&#x27;,
    &#x27;&#x27;
  ].join(&#x27;\n&#x27;);
  throw new Error(msg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var expectingIndentation = this._stacks.length &#x3e; this._indents.length;

if (indent &#x3e; this._indents._last()) {
  // This line was actually indented, so we&#x27;ll have to check if it was
  // supposed to be indented or not.

  if (!expectingIndentation) {
    this.<span class="apidocCodeKeywordSpan">_syntaxError</span>(&#x27;Unexpected indentation&#x27;);
  }

  this._indents.push(indent);
} else {
  // This line was *not* indented more than the line before,
  // so we&#x27;ll just forget about the stack that the previous line pushed.
  if (expectingIndentation) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.parser.prototype.exec" id="apidoc.element.slm.parser.prototype.exec">
        function <span class="apidocSignatureSpan">slm.parser.prototype.</span>exec
        <span class="apidocSignatureSpan">(str, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (str, options) {
  if (options &#x26;&#x26; options.filename) {
    this._file = options.filename;
  } else {
    this._file = null;
  }
  var res = [&#x27;multi&#x27;];
  this._reset(str.split(newLineRe), [res]);

  while (this._nextLine() !== null) {
    this._parseLine();
  }

  this._reset();

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.use = function(filter) {
  this._chain.push(filter);
};

p.exec = function(src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].<span class="apidocCodeKeywordSpan">exec</span>(res, options);
  }

  return res;
};

module.exports = Engine;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.slm" id="apidoc.module.slm.slm">module slm.slm</a></h1>


    <h2>
        <a href="#apidoc.element.slm.slm.slm" id="apidoc.element.slm.slm.slm">
        function <span class="apidocSignatureSpan">slm.</span>slm
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Slm() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.slm.prototype" id="apidoc.module.slm.slm.prototype">module slm.slm.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.slm.prototype.on_slm_control" id="apidoc.element.slm.slm.prototype.on_slm_control">
        function <span class="apidocSignatureSpan">slm.slm.prototype.</span>on_slm_control
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_control = function (exps) {
  exps[3] = this.compile(exps[3]);
  return exps;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.slm.prototype.on_slm_output" id="apidoc.element.slm.slm.prototype.on_slm_output">
        function <span class="apidocSignatureSpan">slm.slm.prototype.</span>on_slm_output
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_output = function (exps) {
  exps[4] = this.compile(exps[4]);
  return exps;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.slm.prototype.on_slm_text" id="apidoc.element.slm.slm.prototype.on_slm_text">
        function <span class="apidocSignatureSpan">slm.slm.prototype.</span>on_slm_text
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_text = function (exps) {
  exps[2] = this.compile(exps[2]);
  return exps;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.slm_browser" id="apidoc.module.slm.slm_browser">module slm.slm_browser</a></h1>


    <h2>
        <a href="#apidoc.element.slm.slm_browser.Template" id="apidoc.element.slm.slm_browser.Template">
        function <span class="apidocSignatureSpan">slm.slm_browser.</span>Template
        <span class="apidocSignatureSpan">(VM, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Template(VM, options) {
  options = options || {};
  options.mergeAttrs = options.mergeAttrs || { &#x27;class&#x27;: &#x27; &#x27; };
  options.attrDelims = options.attrDelims || { &#x27;(&#x27;: &#x27;)&#x27;, &#x27;[&#x27;:&#x27;]&#x27; };

  this.VM = VM;
  this._engine = new Engine();
  this.Embeddeds = Embeddeds;

  this._embedded = new Embeddeds.Embedded();

  this.registerEmbedded(&#x27;script&#x27;,     new Embeddeds.Javascript());
  this.registerEmbedded(&#x27;javascript&#x27;, new Embeddeds.Javascript({typeAttribute: true}));
  this.registerEmbedded(&#x27;css&#x27;,        new Embeddeds.CSS());

  var filters = this._defaultFilters(options);
  for (var i = 0, il = filters.length; i &#x3c; il; i++) {
    this._engine.use(filters[i]);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.slm_browser.compile" id="apidoc.element.slm.slm_browser.compile">
        function <span class="apidocSignatureSpan">slm.slm_browser.</span>compile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compile = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var code = &#x27;switch(exps[&#x27; + level + &#x27;]) {&#x27;;
var empty = true;

for (var key in this._nodes) {
  empty = false;
  code += &#x27;\ncase \&#x27;&#x27; + key + &#x27;\&#x27; : \n&#x27;;
  code +=  this._nodes[key].<span class="apidocCodeKeywordSpan">compile</span>(level + 1, callMethod) + &#x27;;&#x27;;
}

if (empty) {
  return &#x27;return &#x27; + callMethod;
}

code += &#x27;\ndefault:\nreturn &#x27; + (callMethod || &#x27;exps&#x27;) + &#x27;;}&#x27;;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.slm_browser.render" id="apidoc.element.slm.slm_browser.render">
        function <span class="apidocSignatureSpan">slm.slm_browser.</span>render
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.static_merger" id="apidoc.module.slm.static_merger">module slm.static_merger</a></h1>


    <h2>
        <a href="#apidoc.element.slm.static_merger.static_merger" id="apidoc.element.slm.static_merger.static_merger">
        function <span class="apidocSignatureSpan">slm.</span>static_merger
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StaticMerger() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.static_merger.prototype" id="apidoc.module.slm.static_merger.prototype">module slm.static_merger.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.static_merger.prototype.on_multi" id="apidoc.element.slm.static_merger.prototype.on_multi">
        function <span class="apidocSignatureSpan">slm.static_merger.prototype.</span>on_multi
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_multi = function (exps) {
  var res = [&#x27;multi&#x27;], node;

  for (var i = 1, l = exps.length; i &#x3c; l; i++) {
    var exp = exps[i];
    if (exp[0] === &#x27;static&#x27;) {
      if (node) {
        node[1] += exp[1];
      } else {
        node = [&#x27;static&#x27;, exp[1]];
        res.push(node);
      }
    } else {
      res.push(this.compile(exp));
      if (exp[0] !== &#x27;newline&#x27;) {
        node = null;
      }
    }
  }

  return res.length === 2 ? res[1] : res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.string" id="apidoc.module.slm.string">module slm.string</a></h1>


    <h2>
        <a href="#apidoc.element.slm.string.string" id="apidoc.element.slm.string.string">
        function <span class="apidocSignatureSpan">slm.</span>string
        <span class="apidocSignatureSpan">(name, initializer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StringGenerator(name, initializer) {
  this._buffer = name || &#x27;_b&#x27;;
  this._initializer = initializer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.string.prototype" id="apidoc.module.slm.string.prototype">module slm.string.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.string.prototype.on_capture" id="apidoc.element.slm.string.prototype.on_capture">
        function <span class="apidocSignatureSpan">slm.string.prototype.</span>on_capture
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_capture = function (exps) {
  var generator = new StringGenerator(exps[1], exps[2]);
  generator._dispatcher = this._dispatcher;
  return generator.exec(exps[3]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.string.prototype.preamble" id="apidoc.element.slm.string.prototype.preamble">
        function <span class="apidocSignatureSpan">slm.string.prototype.</span>preamble
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">preamble = function () {
  return this._initializer ? this._initializer : &#x27;var &#x27; + this._buffer + &#x27;=\&#x27;\&#x27;;&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function Generator() {
  this._buffer = &#x27;_b&#x27;;
}

var p = Generator.prototype = new Dispatcher();

p.exec = function(exp) {
  return [this.<span class="apidocCodeKeywordSpan">preamble</span>(), this.compile(exp)].join(&#x27;&#x27;);
};

p.on = function(exp) {
  throw new Error(&#x27;Generator supports only core expressions - found &#x27; + JSON.stringify(exp));
};

p.on_multi = function(exps) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template" id="apidoc.module.slm.template">module slm.template</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.VM" id="apidoc.element.slm.template.VM">
        function <span class="apidocSignatureSpan">slm.template.</span>VM
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VMNode() { VM.call(this); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.Embeddeds" id="apidoc.module.slm.template.Embeddeds">module slm.template.Embeddeds</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.CSS" id="apidoc.element.slm.template.Embeddeds.CSS">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>CSS
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CSS() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.Embedded" id="apidoc.element.slm.template.Embeddeds.Embedded">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>Embedded
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Embedded() {
  this._engines = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.InterpolateEngine" id="apidoc.element.slm.template.Embeddeds.InterpolateEngine">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>InterpolateEngine
        <span class="apidocSignatureSpan">(renderer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">InterpolateEngine = function (renderer) {
  this.renderer = renderer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.Javascript" id="apidoc.element.slm.template.Embeddeds.Javascript">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>Javascript
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Javascript(options) {
  this._withType = options &#x26;&#x26; options.typeAttribute;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.TextCollector" id="apidoc.element.slm.template.Embeddeds.TextCollector">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.</span>TextCollector
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function TextCollector() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.Embeddeds.CSS.prototype" id="apidoc.module.slm.template.Embeddeds.CSS.prototype">module slm.template.Embeddeds.CSS.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.CSS.prototype.on_slm_embedded" id="apidoc.element.slm.template.Embeddeds.CSS.prototype.on_slm_embedded">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.CSS.prototype.</span>on_slm_embedded
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_embedded = function (exps) {
  var body = exps[3];
  return [&#x27;html&#x27;, &#x27;tag&#x27;, &#x27;style&#x27;, [&#x27;html&#x27;, &#x27;attrs&#x27;,
    [&#x27;html&#x27;, &#x27;attr&#x27;, &#x27;type&#x27;, [&#x27;static&#x27;, &#x27;text/css&#x27;]]], body];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.Embeddeds.Embedded.prototype" id="apidoc.module.slm.template.Embeddeds.Embedded.prototype">module slm.template.Embeddeds.Embedded.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.Embedded.prototype.on_slm_embedded" id="apidoc.element.slm.template.Embeddeds.Embedded.prototype.on_slm_embedded">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.Embedded.prototype.</span>on_slm_embedded
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_embedded = function (exps) {
  var name = exps[2];
  var engine = this._engines[name];
  if (!engine) {
    throw new Error(&#x27;Embedded engine &#x27; + name + &#x27; is not registered.&#x27;);
  }
  return this._engines[name].on_slm_embedded(exps);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.Embedded.prototype.register" id="apidoc.element.slm.template.Embeddeds.Embedded.prototype.register">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.Embedded.prototype.</span>register
        <span class="apidocSignatureSpan">(name, filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">register = function (name, filter) {
  this._engines[name] = filter;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.Embeddeds.InterpolateEngine.prototype" id="apidoc.module.slm.template.Embeddeds.InterpolateEngine.prototype">module slm.template.Embeddeds.InterpolateEngine.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.InterpolateEngine.prototype.on_slm_embedded" id="apidoc.element.slm.template.Embeddeds.InterpolateEngine.prototype.on_slm_embedded">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.InterpolateEngine.prototype.</span>on_slm_embedded
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_embedded = function (exps) {
  var body = exps[3];
  var text = this.collectText(body);
  return [&#x27;multi&#x27;, [&#x27;slm&#x27;, &#x27;interpolate&#x27;, this.renderer(text)]];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.Embeddeds.Javascript.prototype" id="apidoc.module.slm.template.Embeddeds.Javascript.prototype">module slm.template.Embeddeds.Javascript.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.Javascript.prototype.on_slm_embedded" id="apidoc.element.slm.template.Embeddeds.Javascript.prototype.on_slm_embedded">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.Javascript.prototype.</span>on_slm_embedded
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_embedded = function (exps) {
  var body = exps[3];
  if (this._withType) {
    return [&#x27;html&#x27;, &#x27;tag&#x27;, &#x27;script&#x27;,[&#x27;html&#x27;, &#x27;attrs&#x27;,
      [&#x27;html&#x27;, &#x27;attr&#x27;, &#x27;type&#x27;, [&#x27;static&#x27;, &#x27;text/javascript&#x27;]]], body];
  }
  return [&#x27;html&#x27;, &#x27;tag&#x27;, &#x27;script&#x27;, [&#x27;html&#x27;, &#x27;attrs&#x27;], body];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.Embeddeds.TextCollector.prototype" id="apidoc.module.slm.template.Embeddeds.TextCollector.prototype">module slm.template.Embeddeds.TextCollector.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.TextCollector.prototype.exec" id="apidoc.element.slm.template.Embeddeds.TextCollector.prototype.exec">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.TextCollector.prototype.</span>exec
        <span class="apidocSignatureSpan">(exp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (exp) {
  this._collected = &#x27;&#x27;;
  Slm.prototype.exec.call(this, exp);
  return this._collected;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
p.use = function(filter) {
  this._chain.push(filter);
};

p.exec = function(src, options) {
  var res = src;
  for (var i = 0, li = this._chain.length; i &#x3c; li; i++) {
    res = this._chain[i].<span class="apidocCodeKeywordSpan">exec</span>(res, options);
  }

  return res;
};

module.exports = Engine;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.Embeddeds.TextCollector.prototype.on_slm_interpolate" id="apidoc.element.slm.template.Embeddeds.TextCollector.prototype.on_slm_interpolate">
        function <span class="apidocSignatureSpan">slm.template.Embeddeds.TextCollector.prototype.</span>on_slm_interpolate
        <span class="apidocSignatureSpan">(exps)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">on_slm_interpolate = function (exps) {
  this._collected += exps[2];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.VM" id="apidoc.module.slm.template.VM">module slm.template.VM</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.VM.VM" id="apidoc.element.slm.template.VM.VM">
        function <span class="apidocSignatureSpan">slm.template.</span>VM
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VMNode() { VM.call(this); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.template.VM.prototype" id="apidoc.module.slm.template.VM.prototype">module slm.template.VM.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.template.VM.prototype._loadWithoutCache" id="apidoc.element.slm.template.VM.prototype._loadWithoutCache">
        function <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_loadWithoutCache
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_loadWithoutCache = function (path) {
  var src = FS.readFileSync(path, &#x27;utf8&#x27;);
  return this.runInContext(this.template.src(src, {filename: this.filename}), this.filename)[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

VMProto._loadWithCache = function(path) {
var fn = this._cache[path];
if (fn) {
  return fn;
}

var result = this._cache[path] = this.<span class="apidocCodeKeywordSpan">_loadWithoutCache</span>(path);
return result;
};

VMProto._load = VMProto._loadWithCache;

/*
Prepare VM for next template rendering
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.VM.prototype._resolvePath" id="apidoc.element.slm.template.VM.prototype._resolvePath">
        function <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>_resolvePath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolvePath = function (path) {
  var basename = Path.basename,
      dirname  = Path.dirname,
      join = Path.join;

  if (path[0] !== &#x27;/&#x27; &#x26;&#x26; !this.filename) {
    throw new Error(&#x27;the &#x22;filename&#x22; option is required to use with &#x22;relative&#x22; paths&#x27;);
  }

  if (path[0] === &#x27;/&#x27; &#x26;&#x26; !this.basePath) {
    throw new Error(&#x27;the &#x22;basePath&#x22; option is required to use with &#x22;absolute&#x22; paths&#x27;);
  }

  path = join(path[0] === &#x27;/&#x27; ? this.basePath : dirname(this.filename), path);

  if (basename(path).indexOf(&#x27;.&#x27;) === -1) {
    path += &#x27;.slm&#x27;;
  }

  return path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._load(this.filename).call(this.m, this);
}
this.filename = currentFilename;
return this.res;
};

VMProto.extend = function(path) {
this.stack.push(this.<span class="apidocCodeKeywordSpan">_resolvePath</span>(path));
};

VMProto.partial = function(path, model, cb) {
var stashedResult = this.res;
if (cb) {
  this.res = cb.call(this.m, this);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.template.VM.prototype.runInContext" id="apidoc.element.slm.template.VM.prototype.runInContext">
        function <span class="apidocSignatureSpan">slm.template.VM.prototype.</span>runInContext
        <span class="apidocSignatureSpan">(code, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function runInThisContext(code, options) {
  return createScript(code, options).runInThisContext(options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.vm" id="apidoc.module.slm.vm">module slm.vm</a></h1>


    <h2>
        <a href="#apidoc.element.slm.vm.vm" id="apidoc.element.slm.vm.vm">
        function <span class="apidocSignatureSpan">slm.</span>vm
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VM() {
  this.reset();
  this.template = this.basePath = null;
  this._cache = VM._cache;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.escape" id="apidoc.element.slm.vm.escape">
        function <span class="apidocSignatureSpan">slm.vm.</span>escape
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escape(str) {
  if (typeof str !== &#x27;string&#x27;) {
    if (!str) {
      return &#x27;&#x27;;
    }
    if (str.htmlSafe) {
      return str.toString();
    }
    str = str.toString();
  }

  if (escapeRe.test(str)) {
    if (str.indexOf(&#x27;&#x26;&#x27;) !== -1) {
      str = str.replace(ampRe, &#x27;&#x26;amp;&#x27;);
    }
    if (str.indexOf(&#x27;&#x3c;&#x27;) !== -1) {
      str = str.replace(ltRe, &#x27;&#x26;lt;&#x27;);
    }
    if (str.indexOf(&#x27;&#x3e;&#x27;) !== -1) {
      str = str.replace(gtRe, &#x27;&#x26;gt;&#x27;);
    }
    if (str.indexOf(&#x27;&#x22;&#x27;) !== -1) {
      str = str.replace(quotRe, &#x27;&#x26;quot;&#x27;);
    }
  }

  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._escape = false;
this._escaper = VM.escape;
}

var p = Escape.prototype = new Filter();

p._escapeCode = function(v) {
return &#x27;vm.<span class="apidocCodeKeywordSpan">escape</span>(&#x27; + v.replace(/;+$/, &#x27;&#x27;) + &#x27;)&#x27;;
};

p.on_escape = function(exps) {
var old = this.escape;
this._escape = exps[1] &#x26;&#x26; !this._disableEscape;
try {
  return this.compile(exps[2]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.safe" id="apidoc.element.slm.vm.safe">
        function <span class="apidocSignatureSpan">slm.vm.</span>safe
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function safe(val) {
  if (!val || val.htmlSafe) {
    return val;
  }

  return new SafeStr(val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

p.on_slm_output = function(exps) {
  var escape = exps[2], code = exps[3], content = exps[4];
  if (ifRe.test(code)) {
    var tmp = this._uniqueName(), tmp2 = this._uniqueName();
    content = this.compile(content);
    content.splice(content.length - 1, 0, [&#x27;code&#x27;, &#x27;return vm.<span class="apidocCodeKeywordSpan">safe</span>(&#x27
; + tmp2 + &#x27;);&#x27;]);
    return [&#x27;multi&#x27;,
      // Capture the result of the code in a variable. We can&#x27;t do
      // `[dynamic, code]` because it&#x27;s probably not a complete
      // expression (which is a requirement for Temple).
      [&#x27;block&#x27;, &#x27;var &#x27; + tmp + &#x27;=&#x27; + code,

// Capture the content of a block in a separate buffer. This means
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.vm.prototype" id="apidoc.module.slm.vm.prototype">module slm.vm.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.vm.prototype._load" id="apidoc.element.slm.vm.prototype._load">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>_load
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_load = function (path) {
  var fn = this._cache[path];
  if (fn) {
    return fn;
  }

  var result = this._cache[path] = this._loadWithoutCache(path);
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Pop stack to sp
*/
VMProto.pop = function(sp) {
var currentFilename = this.filename;
var l = this.stack.length;
while (sp &#x3c; l--) {
  this.filename = this.stack.pop();
  this.<span class="apidocCodeKeywordSpan">_load</span>(this.filename).call(this.m, this);
}
this.filename = currentFilename;
return this.res;
};

VMProto.extend = function(path) {
this.stack.push(this._resolvePath(path));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype._loadWithCache" id="apidoc.element.slm.vm.prototype._loadWithCache">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>_loadWithCache
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_loadWithCache = function (path) {
  var fn = this._cache[path];
  if (fn) {
    return fn;
  }

  var result = this._cache[path] = this._loadWithoutCache(path);
  return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.cache" id="apidoc.element.slm.vm.prototype.cache">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>cache
        <span class="apidocSignatureSpan">(name, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cache = function (name, value) {
  this._cache[name] = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.content" id="apidoc.element.slm.vm.prototype.content">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>content
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">content = function () {
  var cb, mod, name;
  switch (arguments.length) {
    case 0: // return main content
      return safe(this.res);
    case 1: // return named content
      return safe(this._contents[arguments[0]] || &#x27;&#x27;);
    case 2: // capture named content
      name = arguments[0];
      cb = arguments[1];
      if (name) {
        // capturing block
        this._contents[name] = cb.call(this.m);
        return &#x27;&#x27;;
      }
      return cb.call(this.m);
    case 3: // content operations: default, append, prepend
      name = arguments[0];
      mod = arguments[1];
      cb = arguments[2];
      var contents = this._contents[name] || &#x27;&#x27;;
      switch (mod) {
        case &#x27;default&#x27;:
          return safe(contents || cb.call(this.m));
        case &#x27;append&#x27;:
          this._contents[name] = contents + cb.call(this.m);
          return &#x27;&#x27;;
        case &#x27;prepend&#x27;:
          this._contents[name] = cb.call(this.m) + contents;
          return &#x27;&#x27;;
      }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.escape" id="apidoc.element.slm.vm.prototype.escape">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>escape
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function escape(str) {
  if (typeof str !== &#x27;string&#x27;) {
    if (!str) {
      return &#x27;&#x27;;
    }
    if (str.htmlSafe) {
      return str.toString();
    }
    str = str.toString();
  }

  if (escapeRe.test(str)) {
    if (str.indexOf(&#x27;&#x26;&#x27;) !== -1) {
      str = str.replace(ampRe, &#x27;&#x26;amp;&#x27;);
    }
    if (str.indexOf(&#x27;&#x3c;&#x27;) !== -1) {
      str = str.replace(ltRe, &#x27;&#x26;lt;&#x27;);
    }
    if (str.indexOf(&#x27;&#x3e;&#x27;) !== -1) {
      str = str.replace(gtRe, &#x27;&#x26;gt;&#x27;);
    }
    if (str.indexOf(&#x27;&#x22;&#x27;) !== -1) {
      str = str.replace(quotRe, &#x27;&#x26;quot;&#x27;);
    }
  }

  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this._escape = false;
this._escaper = VM.escape;
}

var p = Escape.prototype = new Filter();

p._escapeCode = function(v) {
return &#x27;vm.<span class="apidocCodeKeywordSpan">escape</span>(&#x27; + v.replace(/;+$/, &#x27;&#x27;) + &#x27;)&#x27;;
};

p.on_escape = function(exps) {
var old = this.escape;
this._escape = exps[1] &#x26;&#x26; !this._disableEscape;
try {
  return this.compile(exps[2]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.extend" id="apidoc.element.slm.vm.prototype.extend">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>extend
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (path) {
  this.stack.push(this._resolvePath(path));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.flatten" id="apidoc.element.slm.vm.prototype.flatten">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>flatten
        <span class="apidocSignatureSpan">(arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function flatten(arr) {
  return arr.reduce(function(acc, val) {
    if (val === null) {
      return acc;
    }
    // TODO: investigate why test fails with this line
    // return acc.concat(val.constructor === Array ? flatten(val) : val.toString());
    return acc.concat(Array.isArray(val) ? flatten(val) : val.toString());
  }, []);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var delimiter = this._mergeAttrs[this._attr];
  if (delimiter) {
    var tmp = this._uniqueName();
    return [&#x27;multi&#x27;,
     [&#x27;code&#x27;, &#x27;var &#x27; + tmp + &#x27;=&#x27; + code + &#x27;;&#x27;],
     [&#x27;if&#x27;, tmp + &#x27; instanceof Array&#x27;,
      [&#x27;multi&#x27;,
        [&#x27;code&#x27;,  tmp + &#x27;=vm.rejectEmpty(vm.<span class="apidocCodeKeywordSpan">flatten</span>(&#x27; + tmp + &#x27
;));&#x27;],
       [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, tmp + &#x27;.join(&#x22;&#x27; + delimiter + &#x27;&#x22;)&#x27;]]],
      [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, tmp]]]];
  }
  return [&#x27;escape&#x27;, escape, [&#x27;dynamic&#x27;, code]];
};

module.exports = CodeAttributes;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.j" id="apidoc.element.slm.vm.prototype.j">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>j
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function j(val) {
  var str = JSON.stringify(val) + &#x27;&#x27;;
  return str.replace(/&#x3c;\//g, &#x22;&#x3c;\\/&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.mixin" id="apidoc.element.slm.vm.prototype.mixin">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>mixin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mixin = function () {
  var name = arguments[0];

  var lastArgument = arguments[arguments.length - 1];
  if (typeof lastArgument === &#x27;function&#x27;) { // mixin definition
    var cb = lastArgument;

    // make Mixin parameters from definition
    var args = [];
    for (var i = 1; i &#x3c; arguments.length - 1; i++) {
      var param = arguments[i];
      var defaultValue = null;

      // check the default value [= mixin(&#x22;name&#x22;, &#x22;a=1&#x22;, &#x22;b = 2&#x22;, &#x22;c&#x22;)]
      var m = param.match(/([^\=\s]*)\s*\=\s*(.*)/);
      if (m) {
        param = m[1];
        defaultValue = m[2];
      }

      args.push({
        name: param,
        value: defaultValue
      });
    }

    if (name) {
      this._mixins[name] = {
        arguments: args,
        body: cb
      };
      return &#x27;&#x27;;
    }
    return &#x27;&#x27;;
  }

  // mixin reference
  var referenceParams = [];
  for (var i = 1; i &#x3c; arguments.length; i++) {
    referenceParams.push(arguments[i]);
  }

  // try to find mixin
  var mixin = null;
  for (var item in this._mixins) {
    // Check Mixin name
    if (item === name) {
      var maybeMixin = this._mixins[item];

      // check balance of arguments. If Mixin has free parameters without default values then skip this Mixin
      var paramsLength = maybeMixin.arguments.length;
      var mixinStatus = true;
      for (var i = referenceParams.length; i &#x3c; maybeMixin.arguments.length; i++) {
        var param = maybeMixin.arguments[i];

        if (!param.value) {
          mixinStatus = false;
          break;
        }
      }

      if (mixinStatus) {
        mixin = maybeMixin;
        break;
      }
    }
  }

  if (!mixin) {
    return &#x27;&#x27;;
  }

  // add default values
  var mixinParams = mixin.arguments;
  if (referenceParams.length !== mixinParams.length) {
    for (var i = referenceParams.length; i &#x3c; mixinParams.length; i++) {
      if (mixinParams[i]) {
        referenceParams.push(mixinParams[i].value);
      }
    }
  }

  // convert Array to Object
  var params = {};
  for (var i = 0; i &#x3c; referenceParams.length; i++) {
    params[mixinParams[i].name] = referenceParams[i];
  }

  // merge Mixin params with context
  if (this.m) {
    for (var item in this.m) {
      params[item] = this.m[item];
    }
  }

  return mixin.body.call(params);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.partial" id="apidoc.element.slm.vm.prototype.partial">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>partial
        <span class="apidocSignatureSpan">(path, model, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">partial = function (path, model, cb) {
  var stashedResult = this.res;
  if (cb) {
    this.res = cb.call(this.m, this);
  }

  if (model === undefined) {
    model = this.m;
  }

  path = this._resolvePath(path);

  var f = this._load(path), stashedFilename = this.filename, stashedModel = this.m;
  this.filename = path;
  var res = safe(f.call(this.m = model, this));
  this.m = stashedModel;
  this.filename = stashedFilename;
  this.res = stashedResult;
  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.pop" id="apidoc.element.slm.vm.prototype.pop">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>pop
        <span class="apidocSignatureSpan">(sp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pop = function (sp) {
  var currentFilename = this.filename;
  var l = this.stack.length;
  while (sp &#x3c; l--) {
    this.filename = this.stack.pop();
    this._load(this.filename).call(this.m, this);
  }
  this.filename = currentFilename;
  return this.res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

this._indents.push(indent);
  } else {
// This line was *not* indented more than the line before,
// so we&#x27;ll just forget about the stack that the previous line pushed.
if (expectingIndentation) {
  this._stacks.<span class="apidocCodeKeywordSpan">pop</span>();
}

// This line was deindented.
// Now we&#x27;re have to go through the all the indents and figure out
// how many levels we&#x27;ve deindented.
while (indent &#x3c; this._indents._last() &#x26;&#x26; this._indents.length &#x3e; 1) {
  this._indents.pop();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.rebind" id="apidoc.element.slm.vm.prototype.rebind">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>rebind
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rebind = function () {
  this._content = this.content.bind(this);
  this._extend = this.extend.bind(this);
  this._partial = this.partial.bind(this);
  this._mixin = this.mixin.bind(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.rejectEmpty" id="apidoc.element.slm.vm.prototype.rejectEmpty">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>rejectEmpty
        <span class="apidocSignatureSpan">(arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rejectEmpty(arr) {
  var res = [];

  for (var i = 0, l = arr.length; i &#x3c; l; i++) {
    var el = arr[i];
    if (el !== null &#x26;&#x26; el.length) {
      res.push(el);
    }
  }

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, exp];
    } else {
      var captures = this._uniqueName();
      exp.push([&#x27;code&#x27;, &#x27;var &#x27; + captures + &#x27;=[];&#x27;]);
      for (var a = 0, al = value.length; a &#x3c; al; a++) {
        exp.push([&#x27;capture&#x27;, captures + &#x27;[&#x27; + a + &#x27;]&#x27;, captures + &#x27;[&#x27; + a + &#x27;]&#x27
; + &#x27;=\&#x27;\&#x27;;&#x27;, value[a]]);
      }
      exp.push([&#x27;dynamic&#x27;, &#x27;vm.<span class="apidocCodeKeywordSpan">rejectEmpty</span>(&#x27; + captures + &#x27;).
join(&#x22;&#x27; + delimiter + &#x27;&#x22;)&#x27;]);
      attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, exp];
    }
  } else {
    attrs[i] = [&#x27;html&#x27;, &#x27;attr&#x27;, name, value[0]];
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.reset" id="apidoc.element.slm.vm.prototype.reset">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  this._contents = {};
  this._mixins = {};
  this.res = &#x27;&#x27;;
  this.stack = [];
  this.m = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return acc.concat(Array.isArray(val) ? flatten(val) : val.toString());
  }, []);
}

VM._cache = {};

function VM() {
  this.<span class="apidocCodeKeywordSpan">reset</span>();
  this.template = this.basePath = null;
  this._cache = VM._cache;
}

var VMProto = VM.prototype;

VM.escape = VMProto.escape = escape;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.resetCache" id="apidoc.element.slm.vm.prototype.resetCache">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>resetCache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetCache = function () {
  this._cache = VM._cache = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm.prototype.safe" id="apidoc.element.slm.vm.prototype.safe">
        function <span class="apidocSignatureSpan">slm.vm.prototype.</span>safe
        <span class="apidocSignatureSpan">(val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function safe(val) {
  if (!val || val.htmlSafe) {
    return val;
  }

  return new SafeStr(val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

p.on_slm_output = function(exps) {
  var escape = exps[2], code = exps[3], content = exps[4];
  if (ifRe.test(code)) {
    var tmp = this._uniqueName(), tmp2 = this._uniqueName();
    content = this.compile(content);
    content.splice(content.length - 1, 0, [&#x27;code&#x27;, &#x27;return vm.<span class="apidocCodeKeywordSpan">safe</span>(&#x27
; + tmp2 + &#x27;);&#x27;]);
    return [&#x27;multi&#x27;,
      // Capture the result of the code in a variable. We can&#x27;t do
      // `[dynamic, code]` because it&#x27;s probably not a complete
      // expression (which is a requirement for Temple).
      [&#x27;block&#x27;, &#x27;var &#x27; + tmp + &#x27;=&#x27; + code,

// Capture the content of a block in a separate buffer. This means
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.vm_browser" id="apidoc.module.slm.vm_browser">module slm.vm_browser</a></h1>


    <h2>
        <a href="#apidoc.element.slm.vm_browser.vm_browser" id="apidoc.element.slm.vm_browser.vm_browser">
        function <span class="apidocSignatureSpan">slm.</span>vm_browser
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function VMBrowser() { VM.call(this); }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.slm.vm_browser.prototype" id="apidoc.module.slm.vm_browser.prototype">module slm.vm_browser.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.slm.vm_browser.prototype._resolvePath" id="apidoc.element.slm.vm_browser.prototype._resolvePath">
        function <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>_resolvePath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resolvePath = function () {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._load(this.filename).call(this.m, this);
}
this.filename = currentFilename;
return this.res;
};

VMProto.extend = function(path) {
this.stack.push(this.<span class="apidocCodeKeywordSpan">_resolvePath</span>(path));
};

VMProto.partial = function(path, model, cb) {
var stashedResult = this.res;
if (cb) {
  this.res = cb.call(this.m, this);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.slm.vm_browser.prototype.runInContext" id="apidoc.element.slm.vm_browser.prototype.runInContext">
        function <span class="apidocSignatureSpan">slm.vm_browser.prototype.</span>runInContext
        <span class="apidocSignatureSpan">(src, filename)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">runInContext = function (src, filename) {
  if (filename) {
    src += &#x27;\n//# sourceURL=&#x27; + filename;
  }
  return eval(src);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


















</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
